const a5_0x24993a=a5_0x56aa;(function(_0x2e0fca,_0x435fce){const _0x4d4e78=a5_0x56aa,_0x58004e=_0x2e0fca();while(!![]){try{const _0x4fb1c3=-parseInt(_0x4d4e78(0x1a7))/0x1+parseInt(_0x4d4e78(0x1be))/0x2*(parseInt(_0x4d4e78(0x1c5))/0x3)+parseInt(_0x4d4e78(0x1a9))/0x4*(-parseInt(_0x4d4e78(0x1b9))/0x5)+parseInt(_0x4d4e78(0x1c0))/0x6*(-parseInt(_0x4d4e78(0x1b2))/0x7)+parseInt(_0x4d4e78(0x1c4))/0x8*(-parseInt(_0x4d4e78(0x1bc))/0x9)+-parseInt(_0x4d4e78(0x1d1))/0xa+parseInt(_0x4d4e78(0x1d2))/0xb*(parseInt(_0x4d4e78(0x1a5))/0xc);if(_0x4fb1c3===_0x435fce)break;else _0x58004e['push'](_0x58004e['shift']());}catch(_0x2c8cc4){_0x58004e['push'](_0x58004e['shift']());}}}(a5_0x2024,0x559da));function a5_0x56aa(_0x1ea126,_0x52e32a){const _0x20240f=a5_0x2024();return a5_0x56aa=function(_0x56aa1d,_0x1a4af8){_0x56aa1d=_0x56aa1d-0x1a2;let _0x222f30=_0x20240f[_0x56aa1d];return _0x222f30;},a5_0x56aa(_0x1ea126,_0x52e32a);}function a5_0x2024(){const _0x1f1c9f=['test','✅\x20Sticker\x20généré\x20:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<text\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=\x2250%\x22\x20y=\x2240\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family=\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<rect\x20width=\x22100%\x22\x20height=\x22100%\x22\x20fill=\x22#0303037e\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','1352155vGqUZA','getContext','webp','9KBwATz','writeFile','78206STwcXD','Canvas\x20n\x27est\x20pas\x20disponible,\x20utilisation\x20de\x20la\x20méthode\x20SVG','156HFpjoX','fillStyle','resize','VANSBOT','4884936VomLdr','39MKxHEj','error','toFile','font','from','fillText','rgba(3,\x203,\x203,\x200.5)','drawImage','textBaseline','&gt;','\x22\x20height=\x22','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size=\x2235\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fill=\x22#ffffffff\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-anchor=\x22middle\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dominant-baseline=\x22middle\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20>','5348070pXUVGr','5137ZKixki','</text>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Calibri,\x20Arial,\x20sans-serif','replace','fillRect','❌\x20Erreur\x20création\x20sticker\x20avec\x20Canvas\x20:','✅\x20Sticker\x20généré\x20avec\x20Canvas\x20:','62616kiGytI','canvas','698076ADUpkH','&lt;','4TpzhQA','log','textAlign','#ffffff','&amp;','warn','&apos;','composite','toBuffer','129374ZaNitN','❌\x20Erreur\x20création\x20sticker\x20:'];a5_0x2024=function(){return _0x1f1c9f;};return a5_0x2024();}import a5_0x437882 from'sharp';import{promises as a5_0x3457ec}from'fs';function escapeSvgText(_0x3d6401){const _0x576199=a5_0x56aa;return _0x3d6401[_0x576199(0x1d5)](/&/g,_0x576199(0x1ad))['replace'](/</g,_0x576199(0x1a8))[_0x576199(0x1d5)](/>/g,_0x576199(0x1ce))[_0x576199(0x1d5)](/"/g,'&quot;')[_0x576199(0x1d5)](/'/g,_0x576199(0x1af));}function getFontFamily(_0x29e0b6){const _0x3aee1c=a5_0x56aa,_0x46bdf2=/[\p{Emoji}]/gu,_0x174e61=_0x46bdf2[_0x3aee1c(0x1b4)](_0x29e0b6);if(_0x174e61)return'Segoe\x20UI\x20Emoji,\x20Apple\x20Color\x20Emoji,\x20Noto\x20Color\x20Emoji,\x20sans-serif';return _0x3aee1c(0x1d4);}export async function convertToStickerimage(_0x853c22,_0x35bdd4,_0xab7dab=a5_0x24993a(0x1c3)){const _0x32dbe7=a5_0x24993a;try{const _0x39f20a=0x200,_0x11641b=0x3c,_0x2cd47f=_0x39f20a+_0x11641b,_0x32d79e=escapeSvgText(_0xab7dab),_0x14f431=getFontFamily(_0xab7dab);return await a5_0x437882({'create':{'width':_0x39f20a,'height':_0x2cd47f,'channels':0x4,'background':{'r':0x0,'g':0x0,'b':0x0,'alpha':0x0}}})[_0x32dbe7(0x1b0)]([{'input':await a5_0x437882(_0x853c22)[_0x32dbe7(0x1c2)](_0x39f20a,_0x39f20a,{'fit':'contain','background':{'r':0x0,'g':0x0,'b':0x0,'alpha':0x0}})[_0x32dbe7(0x1b1)](),'top':0x0,'left':0x0},{'input':Buffer[_0x32dbe7(0x1c9)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x22'+_0x39f20a+'\x22\x20height=\x22'+_0x11641b+_0x32dbe7(0x1b8)),'top':_0x39f20a,'left':0x0},{'input':Buffer['from'](_0x32dbe7(0x1b6)+_0x39f20a+_0x32dbe7(0x1cf)+_0x11641b+_0x32dbe7(0x1b7)+_0x14f431+_0x32dbe7(0x1d0)+_0x32d79e+_0x32dbe7(0x1d3)),'top':_0x39f20a,'left':0x0}])[_0x32dbe7(0x1bb)]()[_0x32dbe7(0x1c7)](_0x35bdd4),console[_0x32dbe7(0x1aa)](_0x32dbe7(0x1b5),_0x35bdd4),_0x35bdd4;}catch(_0x22b88d){console[_0x32dbe7(0x1c6)](_0x32dbe7(0x1b3),_0x22b88d);throw _0x22b88d;}}export async function convertToStickerWithCanvas(_0x3c187f,_0x25d755,_0x4346d9=a5_0x24993a(0x1c3)){const _0x1294df=a5_0x24993a;try{let _0x2c8232;try{_0x2c8232=await import(_0x1294df(0x1a6));}catch{return console[_0x1294df(0x1ae)](_0x1294df(0x1bf)),convertToStickerimage(_0x3c187f,_0x25d755,_0x4346d9);}const {createCanvas:_0x5cfc2a,loadImage:_0x48ec9e,registerFont:_0x19cf86}=_0x2c8232,_0x10da15=0x200,_0x2bf819=0x3c,_0xd1c1f0=_0x10da15+_0x2bf819,_0x366099=_0x5cfc2a(_0x10da15,_0xd1c1f0),_0x22cbdc=_0x366099[_0x1294df(0x1ba)]('2d'),_0x5eec40=await _0x48ec9e(_0x3c187f);_0x22cbdc[_0x1294df(0x1cc)](_0x5eec40,0x0,0x0,_0x10da15,_0x10da15),_0x22cbdc[_0x1294df(0x1c1)]=_0x1294df(0x1cb),_0x22cbdc[_0x1294df(0x1a2)](0x0,_0x10da15,_0x10da15,_0x2bf819),_0x22cbdc[_0x1294df(0x1c8)]='35px\x20\x22Segoe\x20UI\x20Emoji\x22,\x20\x22Apple\x20Color\x20Emoji\x22,\x20\x22Noto\x20Color\x20Emoji\x22,\x20sans-serif',_0x22cbdc['fillStyle']=_0x1294df(0x1ac),_0x22cbdc[_0x1294df(0x1ab)]='center',_0x22cbdc[_0x1294df(0x1cd)]='middle',_0x22cbdc[_0x1294df(0x1ca)](_0x4346d9,_0x10da15/0x2,_0x10da15+_0x2bf819/0x2);const _0x549d87=_0x366099[_0x1294df(0x1b1)]('image/webp');return await a5_0x3457ec[_0x1294df(0x1bd)](_0x25d755,_0x549d87),console[_0x1294df(0x1aa)](_0x1294df(0x1a4),_0x25d755),_0x25d755;}catch(_0x2791e5){return console[_0x1294df(0x1c6)](_0x1294df(0x1a3),_0x2791e5),convertToStickerimage(_0x3c187f,_0x25d755,_0x4346d9);}}