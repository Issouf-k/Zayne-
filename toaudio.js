const a46_0x5435c8=a46_0x4c8f;(function(_0x4419ba,_0x28612c){const _0x35b237=a46_0x4c8f,_0x2c30c5=_0x4419ba();while(!![]){try{const _0xe42fe=parseInt(_0x35b237(0x1cf))/0x1*(-parseInt(_0x35b237(0x1d5))/0x2)+-parseInt(_0x35b237(0x1d9))/0x3+parseInt(_0x35b237(0x1dc))/0x4+parseInt(_0x35b237(0x1da))/0x5*(parseInt(_0x35b237(0x1cd))/0x6)+parseInt(_0x35b237(0x1e5))/0x7*(-parseInt(_0x35b237(0x1d1))/0x8)+parseInt(_0x35b237(0x1de))/0x9*(-parseInt(_0x35b237(0x1df))/0xa)+-parseInt(_0x35b237(0x1e6))/0xb*(-parseInt(_0x35b237(0x1d4))/0xc);if(_0xe42fe===_0x28612c)break;else _0x2c30c5['push'](_0x2c30c5['shift']());}catch(_0x475a49){_0x2c30c5['push'](_0x2c30c5['shift']());}}}(a46_0x309f,0xebd5f));import{send_reaction_message,send_text_message}from'../utils/sendmessagewa.js';import{listerPremierFichierTemporaire,supprimerFichierCommencantPar}from'../utils/vu_unique.js';import{convertVideoToOgg}from'../utils/convert_to_audio.js';import{convertToOgg}from'../utils/convert_to_ogg.js';import a46_0x4e379a from'../utils/download_media.js';import{join}from'path';import{unlink}from'fs/promises';import{existsSync}from'fs';import a46_0x42899d from'dotenv';function a46_0x309f(){const _0x305972=['MEDIA_PATH','warn','chemin','Erreur\x20dans\x20transform_to_audio:\x20','env','56gIgaqf','47650999qZHKcs','config','toaudio','inputPath','stanzaId','videoMessage','contextInfo','Fichier\x20t√©l√©charg√©\x20introuvable','12300MHvULh','log','22552beDpIx','Seules\x20les\x20vid√©os\x20peuvent\x20√™tre\x20transform√©es\x20en\x20audio','1008152jAcUAg','audio/mp4','message','12zizkKS','166rlUYrX','quotedMessage','key','‚ö†Ô∏è\x20Veuillez\x20r√©pondre\x20√†\x20une\x20vid√©o\x20pour\x20l\x27extraire\x20en\x20audio','1103814ueucEh','1780jJIwzu','extendedTextMessage','1314484MpZEzo','√âchec\x20du\x20t√©l√©chargement\x20de\x20la\x20vid√©o','72027bdGPBU','1470STDowL'];a46_0x309f=function(){return _0x305972;};return a46_0x309f();}a46_0x42899d[a46_0x5435c8(0x1c6)]();const MEDIA_PATH=process[a46_0x5435c8(0x1e4)][a46_0x5435c8(0x1e0)];function a46_0x4c8f(_0x28f976,_0x2a26d3){const _0x309f27=a46_0x309f();return a46_0x4c8f=function(_0x4c8f74,_0x4ba883){_0x4c8f74=_0x4c8f74-0x1c6;let _0x27edf1=_0x309f27[_0x4c8f74];return _0x27edf1;},a46_0x4c8f(_0x28f976,_0x2a26d3);}export const transform_to_audio=async(_0x2431f5,_0x2ced61,_0x40240a,_0x4c244a)=>{const _0x5656e6=a46_0x5435c8;if(!_0x2ced61[_0x5656e6(0x1d3)]?.[_0x5656e6(0x1db)]?.['contextInfo']?.[_0x5656e6(0x1d6)])return await send_reaction_message(_0x2431f5,_0x2ced61,_0x40240a,'‚ùå'),send_text_message(_0x2431f5,_0x2ced61,_0x5656e6(0x1d8),_0x40240a,undefined,!![],![],!![]);let _0x60b8ab,_0x458b20;try{await send_reaction_message(_0x2431f5,_0x2ced61,_0x40240a,'üîÑ');const _0x3a2b0e={'key':{'remoteJid':_0x2ced61[_0x5656e6(0x1d7)]['remoteJid'],'id':_0x2ced61[_0x5656e6(0x1d3)]['extendedTextMessage'][_0x5656e6(0x1cb)][_0x5656e6(0x1c9)],'fromMe':![]},'message':_0x2ced61[_0x5656e6(0x1d3)][_0x5656e6(0x1db)]['contextInfo']['quotedMessage']},_0x52aaca=_0x3a2b0e['message']?.[_0x5656e6(0x1ca)];if(!_0x52aaca)throw new Error(_0x5656e6(0x1d0));const _0x22712b=await a46_0x4e379a(_0x2431f5,_0x3a2b0e,_0x5656e6(0x1c7));if(!_0x22712b)throw new Error(_0x5656e6(0x1dd));_0x60b8ab=join(MEDIA_PATH,_0x22712b[_0x5656e6(0x1e2)]);if(!existsSync(_0x60b8ab))throw new Error(_0x5656e6(0x1cc));_0x60b8ab=await convertToOgg(_0x60b8ab),console[_0x5656e6(0x1ce)](_0x5656e6(0x1c8),_0x60b8ab),await _0x2431f5['sendMessage'](_0x40240a,{'audio':{'url':_0x60b8ab},'mimetype':_0x5656e6(0x1d2)}),await send_reaction_message(_0x2431f5,_0x2ced61,_0x40240a,'‚úÖ');}catch(_0x2389c5){await send_reaction_message(_0x2431f5,_0x2ced61,_0x40240a,'‚ùå'),console['error'](_0x5656e6(0x1e3)+_0x2389c5[_0x5656e6(0x1d3)]);}finally{try{if(_0x60b8ab&&existsSync(_0x60b8ab))await unlink(_0x60b8ab);if(_0x458b20&&existsSync(_0x458b20))await unlink(_0x458b20);}catch(_0x236108){console[_0x5656e6(0x1e1)]('Avertissement\x20lors\x20du\x20nettoyage:',_0x236108['message']);}}};