const a6_0x433488=a6_0xe88b;(function(_0x4f9c85,_0x1c2433){const _0x382f81=a6_0xe88b,_0x6d481d=_0x4f9c85();while(!![]){try{const _0x5dd746=parseInt(_0x382f81(0x215))/0x1+-parseInt(_0x382f81(0x219))/0x2*(-parseInt(_0x382f81(0x21c))/0x3)+parseInt(_0x382f81(0x223))/0x4*(-parseInt(_0x382f81(0x202))/0x5)+-parseInt(_0x382f81(0x1f7))/0x6*(parseInt(_0x382f81(0x225))/0x7)+-parseInt(_0x382f81(0x226))/0x8*(-parseInt(_0x382f81(0x210))/0x9)+parseInt(_0x382f81(0x22c))/0xa+parseInt(_0x382f81(0x227))/0xb;if(_0x5dd746===_0x1c2433)break;else _0x6d481d['push'](_0x6d481d['shift']());}catch(_0x2a6fd3){_0x6d481d['push'](_0x6d481d['shift']());}}}(a6_0x2f08,0x59444));import a6_0x200c2b from'fs/promises';function a6_0x2f08(){const _0x49631a=['join',',\x20mention\x20de\x20groupe\x20interdite\x20dÃ©tectÃ©e\x20dans\x20votre\x20statut\x20!\x20(','4239500XvSuYH','map','parse','\x20expulsÃ©\x20pour\x20mentions\x20de\x20groupe\x20rÃ©pÃ©tÃ©es\x20dans\x20les\x20statuts','le\x20msg\x20est\x20:','groupParticipantsUpdate','utf-8','stringify','writeFile','>\x20ðŸ”‡\x20AntiMention\x20activÃ©\x0a','catch','code','json/antimention.json','>\x20âš ï¸\x20Admin\x20requis','[AntiMention\x20Statut]\x20Erreur:','split','Mention\x20de\x20groupe\x20dÃ©tectÃ©e\x20via\x20groupStatusMentionMessage','6ZdrYAu','parametresGlobaux','\x20expulsÃ©\x20pour\x20mentions\x20de\x20groupe\x20rÃ©pÃ©tÃ©es','groupStatusMentionMessage','>\x20â„¹ï¸\x20DÃ©jÃ \x20activÃ©','lastAttempt','key','message','groupesActives','url','readFile','31315cdNjVU','>\x20â„¹ï¸\x20Non\x20activÃ©','@g.us','count','â–¸\x20DÃ©tection:\x20Mentions\x20de\x20groupe\x20dans\x20les\x20statuts/messages','Mention\x20de\x20groupe\x20dÃ©tectÃ©e\x20dans\x20le\x20message','Admin\x20dÃ©tectÃ©\x20dans\x20statut\x20-\x20IgnorÃ©','[AntiMention]\x20Erreur\x20sauvegarde\x20config:','â–¸\x20Avertissement:\x20','â–¸\x20Expulsion:\x20','expulser',',\x20mention\x20de\x20groupe\x20interdite\x20dÃ©tectÃ©e\x20!\x20(','[AntiMention]\x20Erreur:','participant','9yJbNwA','now','tentatives','remove','supprimerMessage','83647ZVxDRE','maxTentatives','dirname','mkdir','6daGiVN','>\x20âš ï¸\x20Commande\x20rÃ©servÃ©e\x20aux\x20groupes','avertir','653694OdLLLy','protocolMessage','Admin\x20dÃ©tectÃ©\x20-\x20IgnorÃ©','endsWith','>\x20ðŸ”‡\x20AntiMention\x20dÃ©sactivÃ©','>\x20âš ï¸\x20@','>\x20âŒ\x20@','396utAbbx','reactionMessage','3280991RdQtvR','406344SFHaqL','2665322ocllVc','error','access'];a6_0x2f08=function(){return _0x49631a;};return a6_0x2f08();}import a6_0xb0047d from'path';import{fileURLToPath}from'url';import{delete_message,send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';import{isAdmin}from'../utils/gestion_groupe.js';function a6_0xe88b(_0x4b0156,_0x56eced){const _0x2f0853=a6_0x2f08();return a6_0xe88b=function(_0xe88b0,_0x3afd9c){_0xe88b0=_0xe88b0-0x1e7;let _0x2f9188=_0x2f0853[_0xe88b0];return _0x2f9188;},a6_0xe88b(_0x4b0156,_0x56eced);}import{log}from'console';const __dirname=a6_0xb0047d[a6_0x433488(0x217)](fileURLToPath(import.meta[a6_0x433488(0x200)])),ANTIMENTION_FILE=a6_0xb0047d[a6_0x433488(0x22a)](__dirname,a6_0x433488(0x1f2)),defaultConfig={'groupesActives':{},'parametresGlobaux':{'supprimerMessage':!![],'avertir':!![],'expulser':!![],'maxTentatives':0x3},'tentatives':{}};let config={...defaultConfig};async function chargerConfig(){const _0x30307a=a6_0x433488;try{await a6_0x200c2b[_0x30307a(0x218)](a6_0xb0047d['dirname'](ANTIMENTION_FILE),{'recursive':!![]}),await a6_0x200c2b[_0x30307a(0x229)](ANTIMENTION_FILE);const _0x23227d=await a6_0x200c2b[_0x30307a(0x201)](ANTIMENTION_FILE,_0x30307a(0x1ec)),_0x369017=JSON[_0x30307a(0x1e8)](_0x23227d),_0x1d2e58=Date['now']();for(const _0x1b10b1 in _0x369017[_0x30307a(0x212)]){_0x1d2e58-_0x369017['tentatives'][_0x1b10b1][_0x30307a(0x1fc)]>0x5265c00&&delete _0x369017['tentatives'][_0x1b10b1];}return{...defaultConfig,..._0x369017};}catch(_0x242aa6){return _0x242aa6[_0x30307a(0x1f1)]!=='ENOENT'&&console[_0x30307a(0x228)]('[AntiMention]\x20Erreur\x20chargement\x20config:',_0x242aa6),{...defaultConfig};}}async function sauvegarderConfig(){const _0xcdd44=a6_0x433488;try{await a6_0x200c2b[_0xcdd44(0x1ee)](ANTIMENTION_FILE,JSON[_0xcdd44(0x1ed)](config,null,0x2),_0xcdd44(0x1ec));}catch(_0x9304bb){console[_0xcdd44(0x228)](_0xcdd44(0x209),_0x9304bb);}}((async()=>{config=await chargerConfig();})());async function enregistrerTentative(_0x173e71,_0x12d4ee){const _0x317981=a6_0x433488,_0x50e6db=_0x173e71+':'+_0x12d4ee,_0x36a8b2=Date[_0x317981(0x211)]();return config[_0x317981(0x212)][_0x50e6db]={'count':(config[_0x317981(0x212)][_0x50e6db]?.[_0x317981(0x205)]||0x0)+0x1,'lastAttempt':_0x36a8b2},await sauvegarderConfig(),config[_0x317981(0x212)][_0x50e6db][_0x317981(0x205)];}async function resetTentatives(_0x3deeb9,_0x3bc7bd){const _0x664691=_0x3deeb9+':'+_0x3bc7bd;config['tentatives'][_0x664691]&&(delete config['tentatives'][_0x664691],await sauvegarderConfig());}function detecterMentionsGroupe(_0x268981,_0x12e317){const _0x200ac8=a6_0x433488;if(!_0x268981||!_0x12e317)return![];log(_0x200ac8(0x1ea),JSON[_0x200ac8(0x1ed)](_0x268981,null,0x2));if(_0x268981[_0x200ac8(0x1fe)]&&_0x268981[_0x200ac8(0x1fe)][_0x200ac8(0x1fa)])return log(_0x200ac8(0x1f6)),!![];return![];}export function creerAntiMentionBaileys(_0x436893,_0x49fa92,_0x19f749){return async()=>{const _0x2e5723=a6_0xe88b;try{if(!_0x49fa92['message']||!_0x19f749[_0x2e5723(0x21f)](_0x2e5723(0x204)))return;if(_0x49fa92[_0x2e5723(0x1fe)][_0x2e5723(0x21d)]||_0x49fa92['message'][_0x2e5723(0x224)])return;const _0x1c4ba6=config['groupesActives'][_0x19f749];if(!_0x1c4ba6)return;const _0x4dec5e=_0x49fa92['key'][_0x2e5723(0x20f)];if(!_0x4dec5e||await isAdmin(_0x436893,_0x19f749,_0x4dec5e)){log(_0x2e5723(0x21e),{'senderId':_0x4dec5e});return;}log('VÃ©rification\x20AntiMention\x20pour',{'senderId':_0x4dec5e,'jid':_0x19f749});const _0x54265c=detecterMentionsGroupe(_0x49fa92,_0x19f749);if(!_0x54265c)return;log(_0x2e5723(0x207),{'senderId':_0x4dec5e,'jid':_0x19f749});const _0x16e2f6=_0x4dec5e[_0x2e5723(0x1f5)]('@')[0x0],_0x5095e0=await enregistrerTentative(_0x19f749,_0x4dec5e);_0x1c4ba6[_0x2e5723(0x214)]!==![]&&setTimeout(()=>delete_message(_0x436893,_0x49fa92,_0x19f749,_0x49fa92[_0x2e5723(0x1fd)])[_0x2e5723(0x1f0)](()=>{}),0x3e8),_0x1c4ba6[_0x2e5723(0x21b)]!==![]&&await send_text_message(_0x436893,_0x49fa92,_0x2e5723(0x221)+_0x16e2f6+_0x2e5723(0x20d)+_0x5095e0+'/'+(_0x1c4ba6[_0x2e5723(0x216)]||0x3)+')',_0x19f749,[_0x4dec5e],![],!![],![]),_0x5095e0>=(_0x1c4ba6[_0x2e5723(0x216)]||0x3)&&_0x1c4ba6[_0x2e5723(0x20c)]&&(await _0x436893['groupParticipantsUpdate'](_0x19f749,[_0x4dec5e],_0x2e5723(0x213))[_0x2e5723(0x1f0)](()=>{}),await send_text_message(_0x436893,_0x49fa92,'>\x20âŒ\x20@'+_0x16e2f6+_0x2e5723(0x1f9),_0x19f749,[_0x4dec5e],![],!![],![]),await resetTentatives(_0x19f749,_0x4dec5e));}catch(_0x55b20a){console[_0x2e5723(0x228)](_0x2e5723(0x20e),_0x55b20a);}};}export async function ajouterGroupeAntimention(_0x508c2c,_0x5216e3,_0x4bdaf9,_0x217f6f){const _0x45ef6b=a6_0x433488;if(!_0x217f6f)return await send_reaction_message(_0x508c2c,_0x5216e3,_0x4bdaf9,'âŒ'),await send_text_message(_0x508c2c,_0x5216e3,_0x45ef6b(0x21a),_0x4bdaf9),![];const _0xf01859=_0x5216e3['key'][_0x45ef6b(0x20f)];if(!await isAdmin(_0x508c2c,_0x4bdaf9,_0xf01859))return await send_reaction_message(_0x508c2c,_0x5216e3,_0x4bdaf9,'âŒ'),await send_text_message(_0x508c2c,_0x5216e3,'>\x20âš ï¸\x20Admin\x20requis',_0x4bdaf9),![];return!config[_0x45ef6b(0x1ff)][_0x4bdaf9]?(config[_0x45ef6b(0x1ff)][_0x4bdaf9]={...config[_0x45ef6b(0x1f8)]},await sauvegarderConfig(),await send_reaction_message(_0x508c2c,_0x5216e3,_0x4bdaf9,'âœ…'),await send_text_message(_0x508c2c,_0x5216e3,_0x45ef6b(0x1ef)+('â–¸\x20Suppression:\x20'+(config[_0x45ef6b(0x1f8)][_0x45ef6b(0x214)]?'âœ…':'âŒ')+'\x0a')+(_0x45ef6b(0x20a)+(config[_0x45ef6b(0x1f8)]['avertir']?'âœ…':'âŒ')+'\x0a')+(_0x45ef6b(0x20b)+(config[_0x45ef6b(0x1f8)]['expulser']?'âœ…':'âŒ')+'\x0a')+_0x45ef6b(0x206),_0x4bdaf9),!![]):(await send_reaction_message(_0x508c2c,_0x5216e3,_0x4bdaf9,'â„¹ï¸'),await send_text_message(_0x508c2c,_0x5216e3,_0x45ef6b(0x1fb),_0x4bdaf9),![]);}export async function supprimerGroupeAntimention(_0x3d9ecf,_0x2cc71d,_0x5f1508,_0x3974dd){const _0x5a339f=a6_0x433488;if(!_0x3974dd)return await send_reaction_message(_0x3d9ecf,_0x2cc71d,_0x5f1508,'âŒ'),await send_text_message(_0x3d9ecf,_0x2cc71d,'>\x20âš ï¸\x20Commande\x20rÃ©servÃ©e\x20aux\x20groupes',_0x5f1508),![];const _0x479e79=_0x2cc71d['key']['participant'];if(!await isAdmin(_0x3d9ecf,_0x5f1508,_0x479e79))return await send_reaction_message(_0x3d9ecf,_0x2cc71d,_0x5f1508,'âŒ'),await send_text_message(_0x3d9ecf,_0x2cc71d,_0x5a339f(0x1f3),_0x5f1508),![];if(config[_0x5a339f(0x1ff)][_0x5f1508])return delete config[_0x5a339f(0x1ff)][_0x5f1508],await sauvegarderConfig(),await send_reaction_message(_0x3d9ecf,_0x2cc71d,_0x5f1508,'âœ…'),await send_text_message(_0x3d9ecf,_0x2cc71d,_0x5a339f(0x220),_0x5f1508),!![];return await send_reaction_message(_0x3d9ecf,_0x2cc71d,_0x5f1508,'â„¹ï¸'),await send_text_message(_0x3d9ecf,_0x2cc71d,_0x5a339f(0x203),_0x5f1508),![];}export async function listerGroupesAntimention(){const _0x5067d8=a6_0x433488;return Object['keys'](config[_0x5067d8(0x1ff)])[_0x5067d8(0x1e7)](_0x2b87b2=>_0x2b87b2[_0x5067d8(0x1f5)]('@')[0x0])['join']('\x0a')||'Aucun\x20groupe';}export async function verifierStatutAntiMention(_0x2039f1,_0x1c6294,_0x506893,_0x39746b){const _0x1f01c3=a6_0x433488;try{const _0x545791=config[_0x1f01c3(0x1ff)][_0x1c6294];if(!_0x545791)return;if(await isAdmin(_0x2039f1,_0x1c6294,_0x506893)){log(_0x1f01c3(0x208),{'userId':_0x506893});return;}const _0x553108=detecterMentionsGroupe(_0x39746b,_0x1c6294);if(!_0x553108)return;const _0xae679e=_0x506893[_0x1f01c3(0x1f5)]('@')[0x0],_0x23f6af=await enregistrerTentative(_0x1c6294,_0x506893);_0x545791[_0x1f01c3(0x21b)]!==![]&&await send_text_message(_0x2039f1,null,_0x1f01c3(0x221)+_0xae679e+_0x1f01c3(0x22b)+_0x23f6af+'/'+(_0x545791[_0x1f01c3(0x216)]||0x3)+')',_0x1c6294,[_0x506893],![],!![],![]),_0x23f6af>=(_0x545791[_0x1f01c3(0x216)]||0x3)&&_0x545791[_0x1f01c3(0x20c)]&&(await _0x2039f1[_0x1f01c3(0x1eb)](_0x1c6294,[_0x506893],'remove')[_0x1f01c3(0x1f0)](()=>{}),await send_text_message(_0x2039f1,null,_0x1f01c3(0x222)+_0xae679e+_0x1f01c3(0x1e9),_0x1c6294,[_0x506893],![],!![],![]),await resetTentatives(_0x1c6294,_0x506893));}catch(_0x56caec){console[_0x1f01c3(0x228)](_0x1f01c3(0x1f4),_0x56caec);}}