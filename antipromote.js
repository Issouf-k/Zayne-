const a7_0x21cb6b=a7_0x11af;(function(_0x1fb17c,_0x5270be){const _0x571bd2=a7_0x11af,_0x37366a=_0x1fb17c();while(!![]){try{const _0x4ae908=-parseInt(_0x571bd2(0xb0))/0x1*(-parseInt(_0x571bd2(0xc1))/0x2)+parseInt(_0x571bd2(0xe0))/0x3*(parseInt(_0x571bd2(0xa4))/0x4)+-parseInt(_0x571bd2(0xb8))/0x5+-parseInt(_0x571bd2(0xda))/0x6*(-parseInt(_0x571bd2(0xe5))/0x7)+parseInt(_0x571bd2(0xad))/0x8+parseInt(_0x571bd2(0xb9))/0x9*(parseInt(_0x571bd2(0xb4))/0xa)+-parseInt(_0x571bd2(0xba))/0xb*(parseInt(_0x571bd2(0xe1))/0xc);if(_0x4ae908===_0x5270be)break;else _0x37366a['push'](_0x37366a['shift']());}catch(_0x271ba7){_0x37366a['push'](_0x37366a['shift']());}}}(a7_0x4725,0xe8c75));import a7_0x43d037 from'fs/promises';import a7_0x3607be from'path';import{fileURLToPath}from'url';import{send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';import{isAdmin}from'../utils/gestion_groupe.js';const __dirname=a7_0x3607be[a7_0x21cb6b(0xc8)](fileURLToPath(import.meta[a7_0x21cb6b(0xe2)])),ANTIPROMOTE_FILE=a7_0x3607be['join'](__dirname,a7_0x21cb6b(0xbd)),defaultConfig={'groupesActives':{},'whitelist':[]};let config={...defaultConfig};async function chargerConfig(){const _0x567cc3=a7_0x21cb6b;try{await a7_0x43d037['mkdir'](a7_0x3607be[_0x567cc3(0xc8)](ANTIPROMOTE_FILE),{'recursive':!![]}),await a7_0x43d037[_0x567cc3(0xd1)](ANTIPROMOTE_FILE);const _0x4e6e2d=await a7_0x43d037[_0x567cc3(0xc4)](ANTIPROMOTE_FILE,_0x567cc3(0xc3)),_0x223389=JSON[_0x567cc3(0xbf)](_0x4e6e2d);return{...defaultConfig,..._0x223389};}catch(_0x2e7d3c){return _0x2e7d3c[_0x567cc3(0xbb)]!==_0x567cc3(0xac)&&console['error'](_0x567cc3(0xbc),_0x2e7d3c),{...defaultConfig};}}async function sauvegarderConfig(){const _0x52ccf9=a7_0x21cb6b;try{await a7_0x43d037[_0x52ccf9(0xd6)](ANTIPROMOTE_FILE,JSON[_0x52ccf9(0xce)](config,null,0x2),_0x52ccf9(0xc3));}catch(_0x580ea9){console[_0x52ccf9(0xd5)](_0x52ccf9(0xd9),_0x580ea9);}}((async()=>{config=await chargerConfig();})());export function creerAntiPromoteBaileys(_0xa6964f,_0x2cfcc8,_0x3eb00d,_0x56e6b8){return async()=>{const _0x4c9be6=a7_0x11af;try{if(!_0x2cfcc8[_0x4c9be6(0xcf)](_0x4c9be6(0xc9)))return;if(!config[_0x4c9be6(0xcb)][_0x2cfcc8])return;if(!await isAdmin(_0xa6964f,_0x2cfcc8,_0x56e6b8))return;const _0x33f344=config[_0x4c9be6(0xd0)]||[];if(_0x33f344[_0x4c9be6(0xde)](_0x3eb00d))return;const _0x252ee6=await _0xa6964f[_0x4c9be6(0xaa)](_0x2cfcc8),_0x213a8a=_0x252ee6[_0x4c9be6(0xb5)]['find'](_0x3665d0=>_0x3665d0['id']===_0x3eb00d);if(!_0x213a8a||_0x213a8a['admin']!=='admin'&&_0x213a8a[_0x4c9be6(0xa2)]!==_0x4c9be6(0xcc))return;await Promise[_0x4c9be6(0xa7)]([_0xa6964f[_0x4c9be6(0xd7)](_0x2cfcc8,[_0x3eb00d],_0x4c9be6(0xb1))[_0x4c9be6(0xaf)](console['error']),_0xa6964f[_0x4c9be6(0xd7)](_0x2cfcc8,[_0x56e6b8],_0x4c9be6(0xb1))[_0x4c9be6(0xaf)](console[_0x4c9be6(0xd5)])]);const _0x35d440=_0x56e6b8[_0x4c9be6(0xe3)]('@')[0x0],_0x3902a2=_0x3eb00d[_0x4c9be6(0xe3)]('@')[0x0];await send_text_message(_0xa6964f,null,_0x4c9be6(0xe4)+(_0x4c9be6(0xc7)+_0x3902a2+'\x20a\x20√©t√©\x20r√©trograd√©\x0a')+(_0x4c9be6(0xc7)+_0x35d440+_0x4c9be6(0xc0))+_0x4c9be6(0xab),_0x2cfcc8,[_0x56e6b8,_0x3eb00d],![],!![],![]);}catch(_0x50c733){console[_0x4c9be6(0xd5)](_0x4c9be6(0xca),_0x50c733);}};}export async function ajouterGroupeAntipromote(_0x2f662a,_0x451189,_0x2a6639,_0x6c72cd){const _0x1d2194=a7_0x21cb6b;if(!_0x6c72cd)return await send_reaction_message(_0x2f662a,_0x451189,_0x2a6639,'‚ùå'),await send_text_message(_0x2f662a,_0x451189,_0x1d2194(0xd3),_0x2a6639),![];const _0x393cf1=_0x451189[_0x1d2194(0xdf)][_0x1d2194(0xa9)];if(!await isAdmin(_0x2f662a,_0x2a6639,_0x393cf1,!![]))return await send_reaction_message(_0x2f662a,_0x451189,_0x2a6639,'‚ùå'),await send_text_message(_0x2f662a,_0x451189,'>\x20‚ö†Ô∏è\x20vous\x20devez\x20√™tre\x20le\x20propri√©taire\x20du\x20groupe',_0x2a6639),![];return!config[_0x1d2194(0xcb)][_0x2a6639]?(config[_0x1d2194(0xcb)][_0x2a6639]=!![],await sauvegarderConfig(),await send_reaction_message(_0x2f662a,_0x451189,_0x2a6639,'‚úÖ'),await send_text_message(_0x2f662a,_0x451189,_0x1d2194(0xd2)+_0x1d2194(0xa5)+_0x1d2194(0xcd)+_0x1d2194(0xa6)+('‚ñ∏\x20Whitelist:\x20'+(config[_0x1d2194(0xd0)][_0x1d2194(0xc2)]>0x0?config['whitelist']['map'](_0x491195=>_0x491195[_0x1d2194(0xe3)]('@')[0x0])['join'](',\x20'):_0x1d2194(0xc5))),_0x2a6639),!![]):(await send_reaction_message(_0x2f662a,_0x451189,_0x2a6639,'‚ÑπÔ∏è'),await send_text_message(_0x2f662a,_0x451189,_0x1d2194(0xae),_0x2a6639),![]);}export async function supprimerGroupeAntipromote(_0xd665c7,_0x2fe46f,_0x2d455b,_0x444254){const _0x563add=a7_0x21cb6b;if(!_0x444254)return await send_reaction_message(_0xd665c7,_0x2fe46f,_0x2d455b,'‚ùå'),await send_text_message(_0xd665c7,_0x2fe46f,_0x563add(0xd3),_0x2d455b),![];const _0x1b4a3c=_0x2fe46f[_0x563add(0xdf)][_0x563add(0xa9)];if(!await isAdmin(_0xd665c7,_0x2d455b,_0x1b4a3c,!![]))return await send_reaction_message(_0xd665c7,_0x2fe46f,_0x2d455b,'‚ùå'),await send_text_message(_0xd665c7,_0x2fe46f,'>\x20‚ö†Ô∏è\x20vous\x20devez\x20√™tre\x20le\x20propri√©taire\x20du\x20groupe',_0x2d455b),![];if(config['groupesActives'][_0x2d455b])return delete config[_0x563add(0xcb)][_0x2d455b],await sauvegarderConfig(),await send_reaction_message(_0xd665c7,_0x2fe46f,_0x2d455b,'‚úÖ'),await send_text_message(_0xd665c7,_0x2fe46f,_0x563add(0xb3),_0x2d455b),!![];return await send_reaction_message(_0xd665c7,_0x2fe46f,_0x2d455b,'‚ÑπÔ∏è'),await send_text_message(_0xd665c7,_0x2fe46f,_0x563add(0xd8),_0x2d455b),![];}export async function listerGroupesAntipromote(){const _0x180a4a=a7_0x21cb6b;return Object[_0x180a4a(0xa3)](config[_0x180a4a(0xcb)])[_0x180a4a(0xd4)](_0x263beb=>'‚ñ∏\x20'+_0x263beb[_0x180a4a(0xe3)]('@')[0x0])[_0x180a4a(0xdc)]('\x0a')||_0x180a4a(0xa8);}export async function whitelistAntipromote(_0x254a59,_0x4b8aa4,_0x44204f,_0x9df7aa){const _0x3ad065=a7_0x21cb6b,_0x3e90d4=_0x4b8aa4['key'][_0x3ad065(0xa9)];if(!await isAdmin(_0x254a59,_0x44204f,_0x3e90d4,!![]))return await send_reaction_message(_0x254a59,_0x4b8aa4,_0x44204f,'‚ùå'),await send_text_message(_0x254a59,_0x4b8aa4,_0x3ad065(0xdb),_0x44204f),![];if(!config[_0x3ad065(0xd0)][_0x3ad065(0xde)](_0x9df7aa))return config[_0x3ad065(0xd0)][_0x3ad065(0xb6)](_0x9df7aa),await sauvegarderConfig(),await send_reaction_message(_0x254a59,_0x4b8aa4,_0x44204f,'‚úÖ'),await send_text_message(_0x254a59,_0x4b8aa4,_0x3ad065(0xb7)+_0x9df7aa['split']('@')[0x0]+'\x20ajout√©\x20√†\x20la\x20whitelist\x0a'+_0x3ad065(0xb2),_0x44204f,[_0x9df7aa],![],!![],![]),!![];return await send_reaction_message(_0x254a59,_0x4b8aa4,_0x44204f,'‚ÑπÔ∏è'),await send_text_message(_0x254a59,_0x4b8aa4,_0x3ad065(0xc6)+_0x9df7aa[_0x3ad065(0xe3)]('@')[0x0]+'\x20est\x20d√©j√†\x20dans\x20la\x20whitelist',_0x44204f,[_0x9df7aa],![],!![],![]),![];}export async function retirerWhitelistAntipromote(_0x35da0b,_0x3c4407,_0x3871c5,_0x3b42b2){const _0x332e97=a7_0x21cb6b,_0x4dabf1=_0x3c4407[_0x332e97(0xdf)][_0x332e97(0xa9)];if(!await isAdmin(_0x35da0b,_0x3871c5,_0x4dabf1,!![]))return await send_reaction_message(_0x35da0b,_0x3c4407,_0x3871c5,'‚ùå'),await send_text_message(_0x35da0b,_0x3c4407,_0x332e97(0xdb),_0x3871c5),![];if(config[_0x332e97(0xd0)]['includes'](_0x3b42b2))return config[_0x332e97(0xd0)]=config[_0x332e97(0xd0)]['filter'](_0x5409e8=>_0x5409e8!==_0x3b42b2),await sauvegarderConfig(),await send_reaction_message(_0x35da0b,_0x3c4407,_0x3871c5,'‚úÖ'),await send_text_message(_0x35da0b,_0x3c4407,_0x332e97(0xb7)+_0x3b42b2[_0x332e97(0xe3)]('@')[0x0]+_0x332e97(0xdd),_0x3871c5,[_0x3b42b2],![],!![],![]),!![];return await send_reaction_message(_0x35da0b,_0x3c4407,_0x3871c5,'‚ÑπÔ∏è'),await send_text_message(_0x35da0b,_0x3c4407,_0x332e97(0xc6)+_0x3b42b2[_0x332e97(0xe3)]('@')[0x0]+'\x20n\x27est\x20pas\x20dans\x20la\x20whitelist',_0x3871c5,[_0x3b42b2],![],!![],![]),![];}export async function listerWhitelistAntipromote(){const _0x4b3387=a7_0x21cb6b;return config[_0x4b3387(0xd0)][_0x4b3387(0xd4)](_0x5dfa52=>'‚ñ∏\x20'+_0x5dfa52['split']('@')[0x0])[_0x4b3387(0xdc)]('\x0a')||_0x4b3387(0xbe);}export function getConfigAntipromote(){return config;}function a7_0x11af(_0x2f0ca2,_0x426a57){const _0x4725e1=a7_0x4725();return a7_0x11af=function(_0x11af29,_0x177360){_0x11af29=_0x11af29-0xa2;let _0x22e2d5=_0x4725e1[_0x11af29];return _0x22e2d5;},a7_0x11af(_0x2f0ca2,_0x426a57);}function a7_0x4725(){const _0x108e14=['admin','keys','3170776wbNkpm','‚ñ∏\x20Protection\x20contre\x20les\x20promotions\x0a','‚ñ∏\x20R√©trogradation\x20des\x20promoteurs\x0a','all','Aucun\x20groupe\x20prot√©g√©','participant','groupMetadata','‚ñ∏\x20Les\x20promotions\x20non\x20autoris√©es\x20sont\x20interdites','ENOENT','6880640DfeiwB','>\x20‚ÑπÔ∏è\x20D√©j√†\x20activ√©','catch','1632388LRsfZj','demote','‚ñ∏\x20Pourra\x20√™tre\x20promu\x20sans\x20restriction','>\x20üõ°Ô∏è\x20AntiPromote\x20d√©sactiv√©','982650cDratI','participants','push','>\x20‚úÖ\x20@','6398070JAJCUv','63EZreph','5634233IcFjia','code','[AntiPromote]\x20Erreur\x20chargement\x20config:','json/antipromote.json','Aucun\x20utilisateur\x20dans\x20la\x20whitelist','parse','\x20a\x20√©t√©\x20r√©trograd√©\x0a','2lvWkRQ','length','utf-8','readFile','Aucune','>\x20‚ÑπÔ∏è\x20@','‚ñ∏\x20@','dirname','@g.us','[AntiPromote]\x20Erreur:','groupesActives','superadmin','‚ñ∏\x20R√©trogradation\x20automatique\x20des\x20personnes\x20promues\x0a','stringify','endsWith','whitelist','access','>\x20üõ°Ô∏è\x20AntiPromote\x20activ√©\x0a','>\x20‚ö†Ô∏è\x20Commande\x20r√©serv√©e\x20aux\x20groupes','map','error','writeFile','groupParticipantsUpdate','>\x20‚ÑπÔ∏è\x20Non\x20activ√©','[AntiPromote]\x20Erreur\x20sauvegarde\x20config:','654TSqApL','>\x20‚ö†Ô∏è\x20vous\x20devez\x20√™tre\x20le\x20propri√©taire\x20du\x20groupe','join','\x20retir√©\x20de\x20la\x20whitelist','includes','key','3xlDQJT','84LAHCBa','url','split','>\x20‚ö†Ô∏è\x20Protection\x20AntiPromote\x20activ√©e\x0a','118517UFnAlI'];a7_0x4725=function(){return _0x108e14;};return a7_0x4725();}