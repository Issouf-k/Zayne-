const a10_0x57a540=a10_0x372c;function a10_0x98ca(){const _0x1e2235=['keys','268735opeaOg','join','‚ñ∏\x20Suppression:\x20','3273OXvRKo','992856kGIiwr','[AntiTransfer]\x20Erreur\x20sauvegarde\x20config:','203oPKNzy','code','850ODDkYa','>\x20‚ÑπÔ∏è\x20Non\x20activ√©','\x22\x20whitelist√©','message','9981MjgWly','Aucune','supprimerMessage','18abpTQy','key','now','>\x20‚ö†Ô∏è\x20Admin\x20requis','utf-8','stringify','2211072teUbmb','[AntiTransfer]\x20Erreur:','>\x20‚ÑπÔ∏è\x20\x22','ENOENT','protocolMessage','url','10952zKoKVD','isForwarded','845EEKhPy','includes','>\x20‚ö†Ô∏è\x20@','\x20expuls√©\x20pour\x20messages\x20transf√©r√©s','error','@g.us','>\x20‚ÑπÔ∏è\x20D√©j√†\x20activ√©','groupesActives','‚ñ∏\x20Expulsion:\x20','>\x20‚ö†Ô∏è\x20Commande\x20r√©serv√©e\x20aux\x20groupes','‚ñ∏\x20Whitelist:\x20','11ftvlhx','>\x20üîÑ\x20AntiTransfer\x20activ√©\x0a','[AntiTransfer]\x20Erreur\x20chargement\x20config:','reactionMessage','endsWith','whitelist','tentatives',',\x20messages\x20transf√©r√©s\x20interdits\x20!\x20(','2526ncdUwm','readFile','expulser','lastAttempt','parse','count','maxTentatives','push','participant','json/antitransfer.json','\x22\x20d√©j√†\x20autoris√©','contextInfo','@s.whatsapp.net','split','writeFile','avertir','Aucun\x20groupe','parametresGlobaux'];a10_0x98ca=function(){return _0x1e2235;};return a10_0x98ca();}(function(_0x1197bc,_0x94bc75){const _0x728e20=a10_0x372c,_0x20aead=_0x1197bc();while(!![]){try{const _0x3e28f1=parseInt(_0x728e20(0x1bf))/0x1+-parseInt(_0x728e20(0x1ce))/0x2*(-parseInt(_0x728e20(0x1c2))/0x3)+parseInt(_0x728e20(0x1c3))/0x4+-parseInt(_0x728e20(0x1dc))/0x5*(parseInt(_0x728e20(0x1ef))/0x6)+-parseInt(_0x728e20(0x1c5))/0x7*(parseInt(_0x728e20(0x1da))/0x8)+parseInt(_0x728e20(0x1cb))/0x9*(-parseInt(_0x728e20(0x1c7))/0xa)+parseInt(_0x728e20(0x1e7))/0xb*(-parseInt(_0x728e20(0x1d4))/0xc);if(_0x3e28f1===_0x94bc75)break;else _0x20aead['push'](_0x20aead['shift']());}catch(_0x5cc4f6){_0x20aead['push'](_0x20aead['shift']());}}}(a10_0x98ca,0x218b5));import a10_0x22a3ed from'fs/promises';import a10_0x11f674 from'path';import{fileURLToPath}from'url';import{delete_message,send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';import{isAdmin}from'../utils/gestion_groupe.js';const __dirname=a10_0x11f674['dirname'](fileURLToPath(import.meta[a10_0x57a540(0x1d9)])),ANTITRANSFER_FILE=a10_0x11f674[a10_0x57a540(0x1c0)](__dirname,a10_0x57a540(0x1b5)),defaultConfig={'groupesActives':{},'parametresGlobaux':{'supprimerMessage':!![],'avertir':!![],'expulser':!![],'maxTentatives':0x3},'whitelist':[],'tentatives':{}};let config={...defaultConfig};async function chargerConfig(){const _0x4a1b7d=a10_0x57a540;try{await a10_0x22a3ed['mkdir'](a10_0x11f674['dirname'](ANTITRANSFER_FILE),{'recursive':!![]}),await a10_0x22a3ed['access'](ANTITRANSFER_FILE);const _0x177811=await a10_0x22a3ed[_0x4a1b7d(0x1f0)](ANTITRANSFER_FILE,_0x4a1b7d(0x1d2)),_0x58a977=JSON[_0x4a1b7d(0x1f3)](_0x177811),_0x25d560=Date[_0x4a1b7d(0x1d0)]();for(const _0x167cba in _0x58a977[_0x4a1b7d(0x1ed)]){_0x25d560-_0x58a977['tentatives'][_0x167cba][_0x4a1b7d(0x1f2)]>0x5265c00&&delete _0x58a977['tentatives'][_0x167cba];}return{...defaultConfig,..._0x58a977};}catch(_0x21baec){return _0x21baec[_0x4a1b7d(0x1c6)]!==_0x4a1b7d(0x1d7)&&console[_0x4a1b7d(0x1e0)](_0x4a1b7d(0x1e9),_0x21baec),{...defaultConfig};}}async function sauvegarderConfig(){const _0x4b1131=a10_0x57a540;try{await a10_0x22a3ed[_0x4b1131(0x1ba)](ANTITRANSFER_FILE,JSON[_0x4b1131(0x1d3)](config,null,0x2),_0x4b1131(0x1d2));}catch(_0x395179){console[_0x4b1131(0x1e0)](_0x4b1131(0x1c4),_0x395179);}}((async()=>{config=await chargerConfig();})());async function enregistrerTentative(_0x4131f4,_0x64ebe3){const _0x4aa6a3=a10_0x57a540,_0x597a8c=_0x4131f4+':'+_0x64ebe3,_0x39e035=Date['now']();return config['tentatives'][_0x597a8c]={'count':(config['tentatives'][_0x597a8c]?.[_0x4aa6a3(0x1f4)]||0x0)+0x1,'lastAttempt':_0x39e035},await sauvegarderConfig(),config['tentatives'][_0x597a8c][_0x4aa6a3(0x1f4)];}async function resetTentatives(_0x212b6d,_0x13502d){const _0xb9a2a1=a10_0x57a540,_0x46cc62=_0x212b6d+':'+_0x13502d;config[_0xb9a2a1(0x1ed)][_0x46cc62]&&(delete config[_0xb9a2a1(0x1ed)][_0x46cc62],await sauvegarderConfig());}function detecterTransfer(_0x204380){const _0x1cee22=a10_0x57a540;return _0x204380[_0x1cee22(0x1ca)]?.['extendedTextMessage']?.[_0x1cee22(0x1b7)]?.[_0x1cee22(0x1db)]||![];}export function creerAntiTransferBaileys(_0x1782e3,_0x1fa26d,_0x587d3a){return async()=>{const _0x1767f4=a10_0x372c;try{if(!_0x1fa26d['message']||!_0x587d3a[_0x1767f4(0x1eb)](_0x1767f4(0x1e1)))return;if(_0x1fa26d[_0x1767f4(0x1ca)][_0x1767f4(0x1d8)]||_0x1fa26d['message'][_0x1767f4(0x1ea)])return;const _0x37ce39=config[_0x1767f4(0x1e3)][_0x587d3a];if(!_0x37ce39)return;const _0xf534bb=_0x1fa26d[_0x1767f4(0x1cf)][_0x1767f4(0x1b4)];if(!_0xf534bb||await isAdmin(_0x1782e3,_0x587d3a,_0xf534bb))return;if(config[_0x1767f4(0x1ec)][_0x1767f4(0x1dd)](_0xf534bb)||_0x37ce39['whitelist']&&_0x37ce39[_0x1767f4(0x1ec)][_0x1767f4(0x1dd)](_0xf534bb))return;if(!detecterTransfer(_0x1fa26d))return;const _0x484580=_0xf534bb[_0x1767f4(0x1b9)]('@')[0x0],_0x5ae2b1=await enregistrerTentative(_0x587d3a,_0xf534bb);_0x37ce39[_0x1767f4(0x1cd)]!==![]&&setTimeout(()=>delete_message(_0x1782e3,_0x1fa26d,_0x587d3a,_0x1fa26d['key'])['catch'](()=>{}),0x3e8),_0x37ce39[_0x1767f4(0x1bb)]!==![]&&await send_text_message(_0x1782e3,_0x1fa26d,_0x1767f4(0x1de)+_0x484580+_0x1767f4(0x1ee)+_0x5ae2b1+'/'+(_0x37ce39[_0x1767f4(0x1f5)]||0x3)+')',_0x587d3a,[_0xf534bb],![],!![],![]),_0x5ae2b1>=(_0x37ce39['maxTentatives']||0x3)&&_0x37ce39[_0x1767f4(0x1f1)]&&(await _0x1782e3['groupParticipantsUpdate'](_0x587d3a,[_0xf534bb],'remove')['catch'](()=>{}),await send_text_message(_0x1782e3,_0x1fa26d,'>\x20‚ùå\x20@'+_0x484580+_0x1767f4(0x1df),_0x587d3a,[_0xf534bb],![],!![],![]),await resetTentatives(_0x587d3a,_0xf534bb));}catch(_0x57f0c7){console[_0x1767f4(0x1e0)](_0x1767f4(0x1d5),_0x57f0c7);}};}function a10_0x372c(_0x1264e0,_0x38e2f3){const _0x98caaa=a10_0x98ca();return a10_0x372c=function(_0x372c74,_0x29f5e9){_0x372c74=_0x372c74-0x1b4;let _0x2bdf84=_0x98caaa[_0x372c74];return _0x2bdf84;},a10_0x372c(_0x1264e0,_0x38e2f3);}export async function ajouterGroupeAntiTransfer(_0x12f966,_0x1d22a2,_0x1d866c,_0x3e6408){const _0x13af54=a10_0x57a540;if(!_0x3e6408)return await send_reaction_message(_0x12f966,_0x1d22a2,_0x1d866c,'‚ùå'),await send_text_message(_0x12f966,_0x1d22a2,_0x13af54(0x1e5),_0x1d866c),![];const _0xa25dd2=_0x1d22a2[_0x13af54(0x1cf)][_0x13af54(0x1b4)];if(!await isAdmin(_0x12f966,_0x1d866c,_0xa25dd2))return await send_reaction_message(_0x12f966,_0x1d22a2,_0x1d866c,'‚ùå'),await send_text_message(_0x12f966,_0x1d22a2,_0x13af54(0x1d1),_0x1d866c),![];return!config[_0x13af54(0x1e3)][_0x1d866c]?(config['groupesActives'][_0x1d866c]={...config[_0x13af54(0x1bd)]},await sauvegarderConfig(),await send_reaction_message(_0x12f966,_0x1d22a2,_0x1d866c,'‚úÖ'),await send_text_message(_0x12f966,_0x1d22a2,_0x13af54(0x1e8)+(_0x13af54(0x1c1)+(config['parametresGlobaux']['supprimerMessage']?'‚úÖ':'‚ùå')+'\x0a')+('‚ñ∏\x20Avertissement:\x20'+(config[_0x13af54(0x1bd)][_0x13af54(0x1bb)]?'‚úÖ':'‚ùå')+'\x0a')+(_0x13af54(0x1e4)+(config[_0x13af54(0x1bd)][_0x13af54(0x1f1)]?'‚úÖ':'‚ùå')+'\x0a')+(_0x13af54(0x1e6)+(config[_0x13af54(0x1ec)]['length']>0x0?config[_0x13af54(0x1ec)][_0x13af54(0x1c0)](',\x20'):_0x13af54(0x1cc))),_0x1d866c),!![]):(await send_reaction_message(_0x12f966,_0x1d22a2,_0x1d866c,'‚ÑπÔ∏è'),await send_text_message(_0x12f966,_0x1d22a2,_0x13af54(0x1e2),_0x1d866c),![]);}export async function supprimerGroupeAntiTransfer(_0x50d7f7,_0x4b74ed,_0x47756e,_0x307eee){const _0x22273c=a10_0x57a540;if(!_0x307eee)return await send_reaction_message(_0x50d7f7,_0x4b74ed,_0x47756e,'‚ùå'),await send_text_message(_0x50d7f7,_0x4b74ed,_0x22273c(0x1e5),_0x47756e),![];const _0x2667a2=_0x4b74ed[_0x22273c(0x1cf)][_0x22273c(0x1b4)];if(!await isAdmin(_0x50d7f7,_0x47756e,_0x2667a2))return await send_reaction_message(_0x50d7f7,_0x4b74ed,_0x47756e,'‚ùå'),await send_text_message(_0x50d7f7,_0x4b74ed,_0x22273c(0x1d1),_0x47756e),![];if(config[_0x22273c(0x1e3)][_0x47756e])return delete config[_0x22273c(0x1e3)][_0x47756e],await sauvegarderConfig(),await send_reaction_message(_0x50d7f7,_0x4b74ed,_0x47756e,'‚úÖ'),await send_text_message(_0x50d7f7,_0x4b74ed,'>\x20üîÑ\x20AntiTransfer\x20d√©sactiv√©',_0x47756e),!![];return await send_reaction_message(_0x50d7f7,_0x4b74ed,_0x47756e,'‚ÑπÔ∏è'),await send_text_message(_0x50d7f7,_0x4b74ed,_0x22273c(0x1c8),_0x47756e),![];}export async function listerGroupesAntiTransfer(){const _0x496b77=a10_0x57a540;return Object[_0x496b77(0x1be)](config[_0x496b77(0x1e3)])['map'](_0x232cdc=>_0x232cdc[_0x496b77(0x1b9)]('@')[0x0])[_0x496b77(0x1c0)]('\x0a')||_0x496b77(0x1bc);}export async function whitelistAntiTransfer(_0x10bc2f,_0x3d85a4,_0x778475,_0x3cbf43){const _0x39c2f7=a10_0x57a540;if(!_0x3cbf43[_0x39c2f7(0x1eb)](_0x39c2f7(0x1b8)))_0x3cbf43+='@s.whatsapp.net';if(!config[_0x39c2f7(0x1ec)][_0x39c2f7(0x1dd)](_0x3cbf43))return config[_0x39c2f7(0x1ec)][_0x39c2f7(0x1f6)](_0x3cbf43),await sauvegarderConfig(),await send_reaction_message(_0x10bc2f,_0x3d85a4,_0x778475,'‚úÖ'),await send_text_message(_0x10bc2f,_0x3d85a4,'>\x20‚úÖ\x20\x22'+_0x3cbf43+_0x39c2f7(0x1c9),_0x778475),!![];return await send_reaction_message(_0x10bc2f,_0x3d85a4,_0x778475,'‚ÑπÔ∏è'),await send_text_message(_0x10bc2f,_0x3d85a4,_0x39c2f7(0x1d6)+_0x3cbf43+_0x39c2f7(0x1b6),_0x778475),![];}