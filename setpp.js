const a40_0x479e09=a40_0x5033;(function(_0x166cb0,_0x196b46){const _0x1eb89c=a40_0x5033,_0x1388fe=_0x166cb0();while(!![]){try{const _0x454273=-parseInt(_0x1eb89c(0x8e))/0x1*(-parseInt(_0x1eb89c(0x8b))/0x2)+-parseInt(_0x1eb89c(0x97))/0x3+parseInt(_0x1eb89c(0x92))/0x4+parseInt(_0x1eb89c(0xa7))/0x5+-parseInt(_0x1eb89c(0xa1))/0x6+parseInt(_0x1eb89c(0x93))/0x7+-parseInt(_0x1eb89c(0x89))/0x8*(parseInt(_0x1eb89c(0x91))/0x9);if(_0x454273===_0x196b46)break;else _0x1388fe['push'](_0x1388fe['shift']());}catch(_0x712669){_0x1388fe['push'](_0x1388fe['shift']());}}}(a40_0x3fd1,0xea400));import{generateProfilePicture}from'baileys/lib/index.js';import{send_reaction_message,send_text_message}from'../utils/sendmessagewa.js';import a40_0x506f55 from'../utils/download_media.js';function a40_0x3fd1(){const _0x159477=['env','91354zAKHvy','>\x20üì∏\x20Photo\x20de\x20profil\x20mise\x20√†\x20jour\x20avec\x20succ√®s.','>\x20‚ö†Ô∏è\x20Aucune\x20image\x20trouv√©e\x20pour\x20la\x20mise\x20√†\x20jour.','19jcHHyq','>\x20‚ö†Ô∏è\x20Le\x20fichier\x20n\x27est\x20pas\x20une\x20image\x20valide.','key','1422RDQpkz','6336624TpHbyB','1431143Azsmqf','stanzaId','extendedTextMessage','existsSync','2154462yPfYdF','contextInfo','message','error','remoteJid','user','>\x20‚ö†Ô∏è\x20Le\x20message\x20cit√©\x20n\x27est\x20pas\x20une\x20image.','profilppvans','>\x20‚ö†Ô∏è\x20√âchec\x20du\x20t√©l√©chargement\x20de\x20l\x27image.','imageMessage','1508016mFYAXO','jpeg','>\x20‚ö†Ô∏è\x20Veuillez\x20r√©pondre\x20√†\x20une\x20image\x20pour\x20mettre\x20√†\x20jour\x20la\x20photo\x20de\x20profil.','config','quotedMessage','resize','7047300kajCqA','updateProfilePicture','toBuffer','>\x20‚ö†Ô∏è\x20√âchec\x20de\x20la\x20mise\x20√†\x20jour\x20de\x20la\x20photo\x20de\x20profil:\x20','MEDIA_PATH','PREFIXE','type','108200TxhBKn'];a40_0x3fd1=function(){return _0x159477;};return a40_0x3fd1();}import{listerPremierFichierTemporaire,supprimerFichierCommencantPar}from'../utils/vu_unique.js';import a40_0x3923f3 from'sharp';import{join}from'path';import a40_0x30c884 from'fs';import a40_0x4190d3 from'dotenv';a40_0x4190d3[a40_0x479e09(0xa4)]();function a40_0x5033(_0x3f104e,_0xb7d1b4){const _0x3fd1cb=a40_0x3fd1();return a40_0x5033=function(_0x5033e1,_0x5e1e37){_0x5033e1=_0x5033e1-0x85;let _0x237461=_0x3fd1cb[_0x5033e1];return _0x237461;},a40_0x5033(_0x3f104e,_0xb7d1b4);}const PREFIXE=process[a40_0x479e09(0x8a)][a40_0x479e09(0x87)],MEDIA_PATH=process[a40_0x479e09(0x8a)][a40_0x479e09(0x86)];export async function updateProfilePicture(_0x1f3356,_0x4d57f3,_0x579daa){const _0x2a9ec7=a40_0x479e09;if(!_0x4d57f3[_0x2a9ec7(0x99)]?.['extendedTextMessage']?.[_0x2a9ec7(0x98)]?.[_0x2a9ec7(0xa5)])return await send_reaction_message(_0x1f3356,_0x4d57f3,_0x579daa,'‚ùå'),await send_text_message(_0x1f3356,_0x4d57f3,_0x2a9ec7(0xa3),_0x579daa,undefined,!![]),![];const _0xa029b6=_0x4d57f3['message'][_0x2a9ec7(0x95)]['contextInfo']['quotedMessage'];if(!_0xa029b6[_0x2a9ec7(0xa0)])return await send_reaction_message(_0x1f3356,_0x4d57f3,_0x579daa,'‚ùå'),await send_text_message(_0x1f3356,_0x4d57f3,_0x2a9ec7(0x9d),_0x579daa,undefined,!![],![],!![]),![];try{await send_reaction_message(_0x1f3356,_0x4d57f3,_0x579daa,'‚è≥');const _0x4c4630={'key':{'remoteJid':_0x4d57f3[_0x2a9ec7(0x90)][_0x2a9ec7(0x9b)],'id':_0x4d57f3[_0x2a9ec7(0x99)]['extendedTextMessage'][_0x2a9ec7(0x98)][_0x2a9ec7(0x94)],'fromMe':![]},'message':_0x4d57f3[_0x2a9ec7(0x99)][_0x2a9ec7(0x95)]['contextInfo'][_0x2a9ec7(0xa5)]},_0x173466=await a40_0x506f55(_0x1f3356,_0x4c4630,_0x2a9ec7(0x9e));if(!_0x173466)return await send_reaction_message(_0x1f3356,_0x4d57f3,_0x579daa,'‚ùå'),await send_text_message(_0x1f3356,_0x4d57f3,_0x2a9ec7(0x9f),_0x579daa,undefined,!![],![],!![]),![];const _0x4ba96e=await listerPremierFichierTemporaire(MEDIA_PATH,_0x2a9ec7(0x9e));if(!_0x4ba96e)return await send_reaction_message(_0x1f3356,_0x4d57f3,_0x579daa,'‚ùå'),await send_text_message(_0x1f3356,_0x4d57f3,_0x2a9ec7(0x8d),_0x579daa,undefined,!![],![],!![]),![];if(_0x4ba96e[_0x2a9ec7(0x88)]!=='image')return await send_reaction_message(_0x1f3356,_0x4d57f3,_0x579daa,'‚ùå'),await send_text_message(_0x1f3356,_0x4d57f3,_0x2a9ec7(0x8f),_0x579daa,undefined,!![],![],!![]),![];const _0x1ad5a9=join(MEDIA_PATH,_0x4ba96e['chemin']);if(!a40_0x30c884[_0x2a9ec7(0x96)](_0x1ad5a9))throw new Error('Le\x20fichier\x20image\x20n\x27existe\x20pas');const _0x7f232f=await a40_0x3923f3(_0x1ad5a9)[_0x2a9ec7(0xa6)](0x1f4,0x1f4)['jpeg']({'quality':0x55})[_0x2a9ec7(0xa9)]();return await _0x1f3356[_0x2a9ec7(0xa8)](_0x1f3356[_0x2a9ec7(0x9c)]['id'],generateProfilePicture(_0x7f232f,_0x2a9ec7(0xa2))),await send_reaction_message(_0x1f3356,_0x4d57f3,_0x579daa,'‚úÖ'),await send_text_message(_0x1f3356,_0x4d57f3,_0x2a9ec7(0x8c),_0x579daa,undefined,!![]),!![];}catch(_0x22890e){return console[_0x2a9ec7(0x9a)]('Erreur\x20mise\x20√†\x20jour\x20de\x20la\x20photo\x20de\x20profil:',_0x22890e),await send_reaction_message(_0x1f3356,_0x4d57f3,_0x579daa,'‚ùå'),await send_text_message(_0x1f3356,_0x4d57f3,_0x2a9ec7(0x85)+_0x22890e[_0x2a9ec7(0x99)],_0x579daa,undefined,!![],![],!![]),![];}finally{supprimerFichierCommencantPar(MEDIA_PATH,_0x2a9ec7(0x9e));}}