(function(_0x29ad49,_0x1ea9c1){const _0x4d8248=a14_0x1f18,_0x200295=_0x29ad49();while(!![]){try{const _0x2a06f6=parseInt(_0x4d8248(0x136))/0x1*(parseInt(_0x4d8248(0x125))/0x2)+parseInt(_0x4d8248(0x17f))/0x3+parseInt(_0x4d8248(0x168))/0x4+parseInt(_0x4d8248(0x140))/0x5*(-parseInt(_0x4d8248(0x16f))/0x6)+-parseInt(_0x4d8248(0x135))/0x7*(-parseInt(_0x4d8248(0x12e))/0x8)+-parseInt(_0x4d8248(0x15e))/0x9*(parseInt(_0x4d8248(0x167))/0xa)+-parseInt(_0x4d8248(0x149))/0xb*(-parseInt(_0x4d8248(0x17d))/0xc);if(_0x2a06f6===_0x1ea9c1)break;else _0x200295['push'](_0x200295['shift']());}catch(_0xbaed6){_0x200295['push'](_0x200295['shift']());}}}(a14_0x1fc7,0xca595));import{delay}from'baileys';let owner='';export async function analyserGroupeWhatsApp(_0xa574a4,_0x2d7833){const _0x52df0b=a14_0x1f18;if(!_0xa574a4||!_0x2d7833)throw new Error(_0x52df0b(0x176));if(typeof _0x2d7833!==_0x52df0b(0x163)||!_0x2d7833['endsWith'](_0x52df0b(0x150)))throw new Error(_0x52df0b(0x148));try{const _0x41c25c=await getMetadataWithRetry(_0xa574a4,_0x2d7833);if(!_0x41c25c)return _0x52df0b(0x166);const _0x3596a0=await getParticipantsDetails(_0xa574a4,_0x41c25c),_0x25e0e6=await fetchGroupMessages(_0xa574a4,_0x2d7833),_0x3f208a=analyzeGroupData(_0x25e0e6,_0x3596a0);return generateFullReport(_0x41c25c,_0x3596a0,_0x3f208a);}catch(_0xe5ab1a){return console['error']('[ANALYSE\x20GROUPE]\x20Erreur:',_0xe5ab1a),_0x52df0b(0x14e)+_0xe5ab1a[_0x52df0b(0x164)];}}async function getMetadataWithRetry(_0x41417c,_0x4edd6e,_0x24586b=0x3){for(let _0x38da51=0x0;_0x38da51<_0x24586b;_0x38da51++){try{const _0x5ea2c3=await _0x41417c['groupMetadata'](_0x4edd6e);if(_0x5ea2c3)return _0x5ea2c3;}catch(_0x406aaa){if(_0x38da51===_0x24586b-0x1)throw _0x406aaa;await delay(0x3e8*(_0x38da51+0x1));}}return null;}async function getParticipantsDetails(_0x259d14,_0x19bb98){const _0x16bcf9=a14_0x1f18;try{return await Promise[_0x16bcf9(0x152)](_0x19bb98[_0x16bcf9(0x134)]['map'](async _0x25d885=>{const _0x6acf01=_0x16bcf9;try{const [_0x26d681]=await _0x259d14[_0x6acf01(0x127)](_0x25d885['id'])['catch'](()=>[null]);return{'id':_0x25d885['id'],'nom':_0x26d681?.[_0x6acf01(0x14a)]||_0x25d885['id'][_0x6acf01(0x12c)]('@')[0x0],'role':_0x25d885[_0x6acf01(0x153)]?_0x25d885[_0x6acf01(0x153)]==='superadmin'?_0x6acf01(0x15f):_0x6acf01(0x126):'Membre','dateAjout':_0x25d885[_0x6acf01(0x16a)]?new Date(_0x25d885['date']*0x3e8)[_0x6acf01(0x146)]():'Inconnue'};}catch(_0xab18a5){return{'id':_0x25d885['id'],'nom':_0x25d885['id'][_0x6acf01(0x12c)]('@')[0x0],'role':_0x6acf01(0x130),'dateAjout':'Inconnue'};}}));}catch(_0x28511d){return console[_0x16bcf9(0x169)](_0x16bcf9(0x12f),_0x28511d),_0x19bb98[_0x16bcf9(0x134)][_0x16bcf9(0x179)](_0x35aac3=>({'id':_0x35aac3['id'],'nom':_0x35aac3['id'][_0x16bcf9(0x12c)]('@')[0x0],'role':'Membre','dateAjout':_0x16bcf9(0x161)}));}}function a14_0x1fc7(){const _0x2d2836=['3919240igDWJD','warn','date','â€¢\x20RÃ©partition:\x0a','desc','media','subject','192tHxWFe','participant','\x0aðŸ”„\x20GÃ©nÃ©rÃ©\x20le:\x20','Erreur\x20rÃ©cupÃ©ration\x20messages:','\x20msg\x20(','extendedTextMessage','totalMessages','ParamÃ¨tres\x20manquants\x20:\x20sock\x20et\x20groupId\x20sont\x20requis','motsClefs','Date\x20crÃ©ation:\x20Inconnue','map','Nom:\x20','length','reactions','45636vEXpnd','Nom:\x20Non\x20disponible','915528dLSjhi','key','30bavdeE','Admin','onWhatsApp','owner','ðŸ”¹\x20Description:\x20','typesMessages','âš ï¸\x20Aucun\x20message\x20disponible\x20pour\x20analyse\x0a','split','ðŸ“Š\x20RAPPORT\x20DU\x20GROUPE\x20WHATSAPP\x20ðŸ“Š\x0a\x0a','664bjhuPM','Erreur\x20rÃ©cupÃ©ration\x20participants:','Membre','creation','text','toLocaleString','participants','8617PkYyCJ','4467oYPYYo','activiteHoraires','%)\x0a','count','vocal','messagesParMembre','fetchMessagesFromWA','charAt','slice','Erreur\x20analyse\x20message:','90005OSIsgV','messageTimestamp','reactionMessage','getHours','sort','lien','toLocaleDateString','audioMessage','Format\x20de\x20groupId\x20invalide\x20-\x20doit\x20se\x20terminer\x20par\x20\x27@g.us\x27','1727VYSgog','name','find','\x0aâ°\x20HEURES\x20D\x27ACTIVITÃ‰\x20â°\x0a','conversation','âŒ\x20Erreur\x20lors\x20de\x20l\x27analyse\x20du\x20groupe:\x0a','forEach','@g.us','imageMessage','all','admin','trim','toUpperCase','videoMessage','fill','match','ðŸ”¹\x20','nom','ðŸ“ˆ\x20ACTIVITÃ‰\x20(','\x0aðŸ†\x20TOP\x20MEMBRES\x20ACTIFS\x20ðŸ†\x0a','entries','5817438LBOUAh','Super\x20Admin','texte','Inconnue','toLowerCase','string','message','PropriÃ©taire:\x20@','âŒ\x20Impossible\x20de\x20rÃ©cupÃ©rer\x20les\x20mÃ©tadonnÃ©es\x20du\x20groupe','10OiGhJv'];a14_0x1fc7=function(){return _0x2d2836;};return a14_0x1fc7();}async function fetchGroupMessages(_0x57f6af,_0x37306c,_0x5215ef=0x64){const _0xbfc48a=a14_0x1f18;try{return await _0x57f6af[_0xbfc48a(0x13c)](_0x37306c,_0x5215ef)['catch'](()=>[]);}catch(_0x402caa){return console[_0xbfc48a(0x169)](_0xbfc48a(0x172),_0x402caa),[];}}function a14_0x1f18(_0x4cd10b,_0x367729){const _0x1fc7a8=a14_0x1fc7();return a14_0x1f18=function(_0x1f18a4,_0x2cd7ef){_0x1f18a4=_0x1f18a4-0x125;let _0x3f3a43=_0x1fc7a8[_0x1f18a4];return _0x3f3a43;},a14_0x1f18(_0x4cd10b,_0x367729);}function analyzeGroupData(_0x50d976,_0x4bc0b0){const _0x13bc5b=a14_0x1f18,_0x4005e6={'totalMessages':_0x50d976[_0x13bc5b(0x17b)],'messagesParMembre':{},'typesMessages':{'texte':0x0,'media':0x0,'vocal':0x0,'lien':0x0,'autre':0x0},'activiteHoraires':Array(0x18)[_0x13bc5b(0x157)](0x0),'reactions':{},'motsClefs':{}};return _0x50d976[_0x13bc5b(0x14f)](_0x41292e=>{const _0x32b579=_0x13bc5b;try{const _0x24aa1d=_0x41292e['key'][_0x32b579(0x170)]||_0x41292e[_0x32b579(0x180)]['remoteJid'];_0x4005e6[_0x32b579(0x13b)][_0x24aa1d]=(_0x4005e6[_0x32b579(0x13b)][_0x24aa1d]||0x0)+0x1;if(_0x41292e['message']?.[_0x32b579(0x14d)])_0x4005e6[_0x32b579(0x12a)][_0x32b579(0x160)]++;else{if(_0x41292e[_0x32b579(0x164)]?.[_0x32b579(0x151)]||_0x41292e[_0x32b579(0x164)]?.[_0x32b579(0x156)])_0x4005e6[_0x32b579(0x12a)][_0x32b579(0x16d)]++;else{if(_0x41292e[_0x32b579(0x164)]?.[_0x32b579(0x147)])_0x4005e6[_0x32b579(0x12a)][_0x32b579(0x13a)]++;else{if(_0x41292e[_0x32b579(0x164)]?.['extendedTextMessage']?.[_0x32b579(0x132)]?.[_0x32b579(0x158)](/\bhttp\S+/gi))_0x4005e6[_0x32b579(0x12a)][_0x32b579(0x145)]++;else _0x4005e6[_0x32b579(0x12a)]['autre']++;}}}const _0xbfb17c=_0x41292e[_0x32b579(0x141)]?new Date(_0x41292e['messageTimestamp']*0x3e8)[_0x32b579(0x143)]():0x0;_0x4005e6[_0x32b579(0x137)][_0xbfb17c]++;if(_0x41292e['message']?.[_0x32b579(0x142)]?.[_0x32b579(0x132)]){const _0x527737=_0x41292e[_0x32b579(0x164)][_0x32b579(0x142)][_0x32b579(0x132)];_0x4005e6[_0x32b579(0x17c)][_0x527737]=(_0x4005e6['reactions'][_0x527737]||0x0)+0x1;}const _0x4eb6c0=_0x41292e[_0x32b579(0x164)]?.['conversation']||_0x41292e[_0x32b579(0x164)]?.[_0x32b579(0x174)]?.[_0x32b579(0x132)]||'',_0x4032f4=_0x4eb6c0[_0x32b579(0x154)]()[_0x32b579(0x12c)](/\s+/)[0x0]?.[_0x32b579(0x162)]();_0x4032f4&&_0x4032f4['length']>0x2&&(_0x4005e6[_0x32b579(0x177)][_0x4032f4]=(_0x4005e6[_0x32b579(0x177)][_0x4032f4]||0x0)+0x1);}catch(_0x257d70){console[_0x32b579(0x169)](_0x32b579(0x13f),_0x257d70);}}),_0x4005e6;}function generateFullReport(_0x7f7f6e,_0x9ffa82,_0x23e05a){const _0x592ab4=a14_0x1f18;let _0x320723=_0x592ab4(0x12d);owner=_0x7f7f6e[_0x592ab4(0x128)],_0x320723+=_0x592ab4(0x159)+(_0x7f7f6e[_0x592ab4(0x16e)]?_0x592ab4(0x17a)+_0x7f7f6e[_0x592ab4(0x16e)]:_0x592ab4(0x17e))+'\x0a',_0x320723+=_0x592ab4(0x159)+(_0x7f7f6e[_0x592ab4(0x131)]?'CrÃ©Ã©\x20le:\x20'+new Date(_0x7f7f6e['creation']*0x3e8)['toLocaleString']():_0x592ab4(0x178))+'\x0a',_0x320723+=_0x592ab4(0x159)+(_0x7f7f6e[_0x592ab4(0x128)]?_0x592ab4(0x165)+_0x7f7f6e[_0x592ab4(0x128)][_0x592ab4(0x12c)]('@')[0x0]:'PropriÃ©taire:\x20Inconnu')+'\x0a',_0x320723+=_0x592ab4(0x129)+(_0x7f7f6e[_0x592ab4(0x16c)]||'Aucune\x20description')+'\x0a',_0x320723+='ðŸ”¹\x20Membres:\x20'+_0x9ffa82[_0x592ab4(0x17b)]+'\x0a\x0a',_0x320723+=_0x592ab4(0x15b)+_0x23e05a[_0x592ab4(0x175)]+'\x20messages\x20analysÃ©s)\x20ðŸ“ˆ\x0a';if(_0x23e05a[_0x592ab4(0x175)]>0x0){_0x320723+=_0x592ab4(0x16b);for(const [_0x2e1532,_0x1f30a]of Object['entries'](_0x23e05a['typesMessages'])){if(_0x1f30a>0x0){const _0x4dc66c=Math['round'](_0x1f30a/_0x23e05a['totalMessages']*0x64);_0x320723+='\x20\x20-\x20'+(_0x2e1532[_0x592ab4(0x13d)](0x0)[_0x592ab4(0x155)]()+_0x2e1532[_0x592ab4(0x13e)](0x1))+':\x20'+_0x1f30a+'\x20('+_0x4dc66c+'%)\x0a';}}const _0x182c15=Object[_0x592ab4(0x15d)](_0x23e05a[_0x592ab4(0x13b)])[_0x592ab4(0x144)]((_0xc569a,_0xa981da)=>_0xa981da[0x1]-_0xc569a[0x1])['slice'](0x0,0x5);_0x182c15['length']>0x0&&(_0x320723+=_0x592ab4(0x15c),_0x182c15[_0x592ab4(0x14f)](([_0x5c50ac,_0x4b06ca],_0x18839d)=>{const _0x86c77c=_0x592ab4,_0x545f09=_0x9ffa82[_0x86c77c(0x14b)](_0x2735e8=>_0x2735e8['id']===_0x5c50ac)||{'nom':_0x5c50ac[_0x86c77c(0x12c)]('@')[0x0]},_0x3c6421=Math['round'](_0x4b06ca/_0x23e05a[_0x86c77c(0x175)]*0x64);_0x320723+=_0x18839d+0x1+'.\x20'+_0x545f09[_0x86c77c(0x15a)]+':\x20'+_0x4b06ca+_0x86c77c(0x173)+_0x3c6421+_0x86c77c(0x138);}));const _0x4992e8=_0x23e05a[_0x592ab4(0x137)][_0x592ab4(0x179)]((_0x171193,_0x5c7dbd)=>({'heure':_0x5c7dbd,'count':_0x171193}))['filter'](_0x5ac51a=>_0x5ac51a[_0x592ab4(0x139)]>0x0)[_0x592ab4(0x144)]((_0x3e1330,_0x3bfecc)=>_0x3bfecc[_0x592ab4(0x139)]-_0x3e1330[_0x592ab4(0x139)]);_0x4992e8[_0x592ab4(0x17b)]>0x0&&(_0x320723+=_0x592ab4(0x14c),_0x4992e8[_0x592ab4(0x13e)](0x0,0x5)[_0x592ab4(0x14f)](_0x1dede5=>{const _0xb061ec=_0x592ab4;_0x320723+='â€¢\x20'+_0x1dede5['heure']+'h-'+(_0x1dede5['heure']+0x1)+'h:\x20'+_0x1dede5[_0xb061ec(0x139)]+'\x20msg\x0a';}));}else _0x320723+=_0x592ab4(0x12b);return _0x320723+=_0x592ab4(0x171)+new Date()[_0x592ab4(0x133)](),{'rapport':_0x320723,'owner':owner};}