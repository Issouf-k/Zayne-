const a12_0x1325b8=a12_0x1e7e;function a12_0x1e7e(_0x47a8bb,_0x29a30e){const _0x390dc4=a12_0x390d();return a12_0x1e7e=function(_0x1e7e12,_0x321487){_0x1e7e12=_0x1e7e12-0x158;let _0x2331b9=_0x390dc4[_0x1e7e12];return _0x2331b9;},a12_0x1e7e(_0x47a8bb,_0x29a30e);}(function(_0x5e969f,_0x3921d1){const _0x5051f0=a12_0x1e7e,_0x227934=_0x5e969f();while(!![]){try{const _0x103300=-parseInt(_0x5051f0(0x16f))/0x1+parseInt(_0x5051f0(0x176))/0x2+-parseInt(_0x5051f0(0x16b))/0x3+-parseInt(_0x5051f0(0x160))/0x4+-parseInt(_0x5051f0(0x158))/0x5+-parseInt(_0x5051f0(0x175))/0x6*(parseInt(_0x5051f0(0x178))/0x7)+parseInt(_0x5051f0(0x16d))/0x8;if(_0x103300===_0x3921d1)break;else _0x227934['push'](_0x227934['shift']());}catch(_0x97e4c0){_0x227934['push'](_0x227934['shift']());}}}(a12_0x390d,0x80f68));import a12_0x5a2bd5 from'fs/promises';function a12_0x390d(){const _0x312cef=['log','328982KdigwR','Le\x20watcher\x20de\x20statuts\x20est\x20déjà\x20désactivé','utf-8','videoMessage','readMessages','pushName','18jXMfNY','1737174QCgFfY','>\x20✅\x20Le\x20watcher\x20de\x20statuts\x20est\x20maintenant\x20activé.','1834392nSrmZY','envoi\x20de\x20la\x20presenceSubscribe','640670tGZiQM','error','sendMessage','json/status_watcher_config.json','imageMessage','readFile','ENOENT','enabled','129108BjlJzv','code','writeFile','key','>\x20⚠️\x20Le\x20watcher\x20de\x20statuts\x20est\x20déjà\x20activé.','>\x20⚠️\x20Le\x20watcher\x20de\x20statuts\x20est\x20déjà\x20désactivé.','remoteJid','status@broadcast','Status\x20Watcher\x20désactivé\x20avec\x20succès','join','participant','2103354JAmiOr','message','13090592zZJZQk'];a12_0x390d=function(){return _0x312cef;};return a12_0x390d();}import a12_0x5d059e from'path';import{fileURLToPath}from'url';import{send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';const __dirname=a12_0x5d059e['dirname'](fileURLToPath(import.meta['url'])),CONFIG_PATH=a12_0x5d059e[a12_0x1325b8(0x169)](__dirname,a12_0x1325b8(0x15b));let STATUS_WATCHER_ENABLED=![];async function loadConfig(){const _0x4224a8=a12_0x1325b8;try{const _0x234f52=await a12_0x5a2bd5[_0x4224a8(0x15d)](CONFIG_PATH,_0x4224a8(0x171)),_0x5e07b4=JSON['parse'](_0x234f52);STATUS_WATCHER_ENABLED=_0x5e07b4[_0x4224a8(0x15f)]||![];}catch(_0x1f8503){_0x1f8503[_0x4224a8(0x161)]===_0x4224a8(0x15e)?await saveConfig():console[_0x4224a8(0x159)]('Erreur\x20de\x20lecture\x20de\x20la\x20config:',_0x1f8503);}}async function saveConfig(){const _0x515562=a12_0x1325b8,_0x2f6afa={'enabled':STATUS_WATCHER_ENABLED};await a12_0x5a2bd5[_0x515562(0x162)](CONFIG_PATH,JSON['stringify'](_0x2f6afa,null,0x2));}export async function enableStatusWatcher(_0x3b6ec2,_0x201f30,_0x497fa4){const _0x1b2a35=a12_0x1325b8;if(STATUS_WATCHER_ENABLED)return await send_text_message(_0x3b6ec2,_0x201f30,_0x1b2a35(0x164),_0x497fa4),![];STATUS_WATCHER_ENABLED=!![],await send_text_message(_0x3b6ec2,_0x201f30,_0x1b2a35(0x177),_0x497fa4),await saveConfig();}export async function disableStatusWatcher(_0x44a58f,_0x25aa8d,_0x96c446){const _0x280c20=a12_0x1325b8;if(!STATUS_WATCHER_ENABLED)return console[_0x280c20(0x16e)](_0x280c20(0x170)),await send_text_message(_0x44a58f,_0x25aa8d,_0x280c20(0x165),_0x96c446),![];return STATUS_WATCHER_ENABLED=![],await send_text_message(_0x44a58f,_0x25aa8d,'>\x20✅\x20Le\x20watcher\x20de\x20statuts\x20est\x20maintenant\x20désactivé.',_0x96c446),await saveConfig(),console[_0x280c20(0x16e)](_0x280c20(0x168)),!![];}export async function statusWatcher(_0x290128,{messages:_0x49d313}){const _0x2b658c=a12_0x1325b8;try{for(const _0xe1d44b of _0x49d313){if(!_0xe1d44b[_0x2b658c(0x163)]||!_0xe1d44b['key'][_0x2b658c(0x166)])continue;if(_0xe1d44b[_0x2b658c(0x163)][_0x2b658c(0x166)]!==_0x2b658c(0x167))continue;if(!_0xe1d44b[_0x2b658c(0x174)]||!_0xe1d44b[_0x2b658c(0x16c)])continue;await loadConfig();if(!STATUS_WATCHER_ENABLED)return;const _0x2ac22b=_0xe1d44b[_0x2b658c(0x16c)][_0x2b658c(0x15c)]||_0xe1d44b[_0x2b658c(0x16c)][_0x2b658c(0x172)]||_0xe1d44b[_0x2b658c(0x16c)]['extendedTextMessage'];if(!_0x2ac22b)return;console['log']('[STATUS-WATCHER]\x20Nouveau\x20statut\x20détecté\x20de',_0xe1d44b[_0x2b658c(0x174)]),console[_0x2b658c(0x16e)](_0x2b658c(0x179)),await _0x290128[_0x2b658c(0x173)]([{'remoteJid':_0x2b658c(0x167),'id':_0xe1d44b[_0x2b658c(0x163)]['id'],'participant':_0xe1d44b[_0x2b658c(0x163)][_0x2b658c(0x16a)]||_0xe1d44b[_0x2b658c(0x163)][_0x2b658c(0x166)]}]),console[_0x2b658c(0x16e)]('envoie\x20du\x20like'),await _0x290128[_0x2b658c(0x15a)](_0xe1d44b[_0x2b658c(0x163)][_0x2b658c(0x166)],{'react':{'text':'❤️','key':_0xe1d44b[_0x2b658c(0x163)]}});}}catch(_0x2359d8){console[_0x2b658c(0x159)]('[STATUS-WATCHER]\x20Erreur\x20légère:',_0x2359d8['message']);}}