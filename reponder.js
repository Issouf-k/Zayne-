const a34_0x219469=a34_0xaeca;(function(_0x28ea8d,_0x3e40ef){const _0x35ee66=a34_0xaeca,_0xecd98f=_0x28ea8d();while(!![]){try{const _0x322b64=parseInt(_0x35ee66(0x204))/0x1+parseInt(_0x35ee66(0x1f0))/0x2+-parseInt(_0x35ee66(0x1fe))/0x3*(-parseInt(_0x35ee66(0x1cd))/0x4)+parseInt(_0x35ee66(0x1d2))/0x5*(parseInt(_0x35ee66(0x20d))/0x6)+parseInt(_0x35ee66(0x1e9))/0x7*(parseInt(_0x35ee66(0x1ec))/0x8)+-parseInt(_0x35ee66(0x1e1))/0x9+parseInt(_0x35ee66(0x1dc))/0xa*(-parseInt(_0x35ee66(0x1d3))/0xb);if(_0x322b64===_0x3e40ef)break;else _0xecd98f['push'](_0xecd98f['shift']());}catch(_0x515a77){_0xecd98f['push'](_0xecd98f['shift']());}}}(a34_0x5da7,0x1a717));import a34_0x83b770 from'fs/promises';import a34_0x3ae87b from'path';import{fileURLToPath}from'url';import{send_text_message,send_audio_message,send_video_message,send_reaction_message}from'../utils/sendmessagewa.js';import{getJidFromLid,getLidFromJid}from'../utils/getidparticipantgroupe.js';function a34_0x5da7(){const _0x177bc2=['text','length','active','...','[MentionResponder]\x20Type\x20de\x20r√©ponse\x20non\x20support√©:','>\x20‚úÖ\x20R√©ponse\x20#','splice','message','\x20non\x20trouv√©e','dirname','parse','>\x20üìä\x20Statut\x20MentionResponder\x0a','warn','155907rFXNbr','readFile','>\x20üîä\x20MentionResponder\x20activ√©\x0a','\x20r√©ponse(s)','>\x20‚ùå\x20R√©ponse\x20#','responder','87994lxUmXX','[MentionResponder]\x20R√©ponse\x20envoy√©e\x20(','stringify','content','video','find','>\x20‚úÖ\x20Message\x20repondeur\x20ajout√©e\x20\x0a','‚ñ∏\x20R√©pond\x20aux\x20mentions\x20du\x20bot\x0a','>\x20üìù\x20Liste\x20des\x20r√©ponses\x0a\x0a','6OKCuKw','ENOENT','protocolMessage','\x20supprim√©e\x0a','>\x20‚ÑπÔ∏è\x20MentionResponder\x20d√©j√†\x20activ√©','audio','>\x20‚ÑπÔ∏è\x20MentionResponder\x20d√©j√†\x20d√©sactiv√©','enabled','@g.us','utf-8','4DHwhrf','conversation','env','contextInfo','responses','883530yGXnMW','44tIBTIe','url','\x20d√©sactiv√©e','responder_audio.ogg','findIndex','‚ñ∏\x20Activ√©:\x20','‚ñ∏\x20R√©ponses\x20inactives:\x20','>\x20‚ÑπÔ∏è\x20R√©ponse\x20#','error','526400gUCPPr','extendedTextMessage','[MentionResponder]\x20Erreur\x20sauvegarde\x20config:','[MentionResponder]\x20Erreur:','\x20\x20\x20‚ñ∏\x20','1302723jiVjtW','\x20activ√©e','filter','json/mention_responder_config.json','Merci\x20de\x20m\x27avoir\x20mentionn√©\x20!\x20Je\x20vous\x20r√©pondrai\x20d√®s\x20que\x20possible.','type','endsWith','includes','546mPwZaJ','videoMessage','audioMessage','7528xKgBkk','writeFile','quotedMessage','substring','147102zQszDf'];a34_0x5da7=function(){return _0x177bc2;};return a34_0x5da7();}import{download_store}from'./store.js';import{truncate}from'fs';import a34_0x19d23a from'dotenv';import{join}from'path';a34_0x19d23a['config']();const MEDIA_PATH=process[a34_0x219469(0x1cf)]['MEDIA_PATH']||'./media',__dirname=a34_0x3ae87b[a34_0x219469(0x1fa)](fileURLToPath(import.meta[a34_0x219469(0x1d4)])),MENTION_CONFIG_PATH=a34_0x3ae87b['join'](__dirname,a34_0x219469(0x1e4)),defaultConfig={'enabled':![],'responses':[{'type':'text','content':a34_0x219469(0x1e5),'active':!![]}]};let config={...defaultConfig};async function chargerConfig(){const _0x5b472c=a34_0x219469;try{await a34_0x83b770['mkdir'](a34_0x3ae87b['dirname'](MENTION_CONFIG_PATH),{'recursive':!![]}),await a34_0x83b770['access'](MENTION_CONFIG_PATH);const _0x22d30a=await a34_0x83b770[_0x5b472c(0x1ff)](MENTION_CONFIG_PATH,_0x5b472c(0x1cc)),_0x1f3789=JSON[_0x5b472c(0x1fb)](_0x22d30a);config={...defaultConfig,..._0x1f3789};}catch(_0x4143da){_0x4143da['code']===_0x5b472c(0x20e)?await sauvegarderConfig():console[_0x5b472c(0x1db)]('[MentionResponder]\x20Erreur\x20chargement\x20config:',_0x4143da);}}async function sauvegarderConfig(){const _0x48eca2=a34_0x219469;try{await a34_0x83b770[_0x48eca2(0x1ed)](MENTION_CONFIG_PATH,JSON[_0x48eca2(0x206)](config,null,0x2));}catch(_0x9f11a6){console[_0x48eca2(0x1db)](_0x48eca2(0x1de),_0x9f11a6);}}((async()=>{await chargerConfig();})());export function creerMentionResponderBaileys(_0x32993d,_0xa60008,_0x1f369e,_0x1edce4){return async()=>{const _0x4f46f7=a34_0xaeca;try{if(!_0xa60008[_0x4f46f7(0x1f8)]||!_0x1f369e[_0x4f46f7(0x1e7)](_0x4f46f7(0x1cb)))return;if(_0xa60008[_0x4f46f7(0x1f8)][_0x4f46f7(0x20f)]||_0xa60008[_0x4f46f7(0x1f8)]['reactionMessage'])return;if(!config[_0x4f46f7(0x1ca)])return;const _0xfa0403=await detecterMention(_0x32993d,_0x1f369e,_0xa60008,_0x1edce4);if(!_0xfa0403)return;const _0x2d5f0d=config[_0x4f46f7(0x1d1)],_0x1eb353=join(MEDIA_PATH,_0x2d5f0d[_0x4f46f7(0x207)]);switch(_0x2d5f0d[_0x4f46f7(0x1e6)]){case _0x4f46f7(0x1f1):await send_text_message(_0x32993d,_0xa60008,_0x2d5f0d[_0x4f46f7(0x207)],_0x1f369e,undefined,!![]);break;case _0x4f46f7(0x1c8):await send_audio_message(_0x32993d,_0xa60008,_0x1f369e,_0x1eb353,!![]);break;case _0x4f46f7(0x208):await send_video_message(_0x32993d,_0xa60008,_0x1f369e,_0x1eb353,'',!![]);break;default:console[_0x4f46f7(0x1fd)](_0x4f46f7(0x1f5),_0x2d5f0d?_0x2d5f0d[_0x4f46f7(0x207)]:rep[_0x4f46f7(0x1e6)]);}console['log'](_0x4f46f7(0x205)+(_0x2d5f0d?_0x2d5f0d[_0x4f46f7(0x207)]:rep['type'])+')');}catch(_0xf6eb42){console[_0x4f46f7(0x1db)](_0x4f46f7(0x1df),_0xf6eb42);}};}async function detecterMention(_0x458ab5,_0x38116b,_0x450328,_0xcd0281){const _0x369bd5=a34_0x219469,_0x53fb1c=_0x450328[_0x369bd5(0x1f8)]?.[_0x369bd5(0x1dd)]?.[_0x369bd5(0x1d0)]?.['mentionedJid']||[];if(_0x53fb1c['length']===0x0)return![];const _0xf2259=await getLidFromJid(_0x458ab5,_0x38116b,_0xcd0281);if(_0x53fb1c[_0x369bd5(0x1e8)](_0xf2259))return!![];return![];}export async function activerMentionResponder(_0x4847c3,_0x47b7ac,_0xfcdd36,_0x2eb916){const _0x3fccde=a34_0x219469;await chargerConfig();if(config[_0x3fccde(0x1ca)])return await send_reaction_message(_0x4847c3,_0x47b7ac,_0xfcdd36,'‚ÑπÔ∏è'),await send_text_message(_0x4847c3,_0x47b7ac,_0x3fccde(0x1c7),_0xfcdd36),![];return config[_0x3fccde(0x1ca)]=!![],await sauvegarderConfig(),await send_reaction_message(_0x4847c3,_0x47b7ac,_0xfcdd36,'‚úÖ'),await send_text_message(_0x4847c3,_0x47b7ac,_0x3fccde(0x200)+_0x3fccde(0x20b)+'‚ñ∏\x20Support\x20texte/audio/vid√©o\x0a',_0xfcdd36),!![];}export async function desactiverMentionResponder(_0x415b98,_0x1fd443,_0x27cec0,_0x443fce){const _0x57115c=a34_0x219469;await chargerConfig();if(!config[_0x57115c(0x1ca)])return await send_reaction_message(_0x415b98,_0x1fd443,_0x27cec0,'‚ÑπÔ∏è'),await send_text_message(_0x415b98,_0x1fd443,_0x57115c(0x1c9),_0x27cec0),![];return config[_0x57115c(0x1ca)]=![],await sauvegarderConfig(),await send_reaction_message(_0x415b98,_0x1fd443,_0x27cec0,'‚úÖ'),await send_text_message(_0x415b98,_0x1fd443,'>\x20üîá\x20MentionResponder\x20d√©sactiv√©',_0x27cec0),!![];}export async function ajouterReponseTextuelle(_0x12ad0d,_0x16ece8,_0x2f63a8,_0x25ff96){const _0x9ef590=a34_0x219469;await chargerConfig();const _0x3dde93={'type':_0x9ef590(0x1f1),'content':_0x25ff96,'active':!![]};return config[_0x9ef590(0x1d1)]=_0x3dde93,await sauvegarderConfig(),await send_reaction_message(_0x12ad0d,_0x16ece8,_0x2f63a8,'‚úÖ'),await send_text_message(_0x12ad0d,_0x16ece8,'>\x20‚úÖ\x20R√©ponse\x20texte\x20ajout√©e\x20\x0a'+('‚ñ∏\x20Contenu:\x20'+_0x25ff96),_0x2f63a8),!![];}export async function ajouterReponseAudio(_0x503d96,_0x3ecf19,_0x3870b6){const _0x446252=a34_0x219469;await chargerConfig(),await download_store(_0x503d96,_0x3ecf19,_0x3870b6,[_0x446252(0x203)]);const _0x44a235={'type':_0x446252(0x1c8),'content':_0x446252(0x1d6),'active':!![]};return config[_0x446252(0x1d1)]=_0x44a235,await sauvegarderConfig(),await send_reaction_message(_0x503d96,_0x3ecf19,_0x3870b6,'‚úÖ'),await send_text_message(_0x503d96,_0x3ecf19,_0x446252(0x20a)+'‚ñ∏\x20type:\x20audio',_0x3870b6),!![];}function a34_0xaeca(_0x39c1cd,_0x4e8b75){const _0x5da7e6=a34_0x5da7();return a34_0xaeca=function(_0xaecab2,_0x32ef69){_0xaecab2=_0xaecab2-0x1c6;let _0x159758=_0x5da7e6[_0xaecab2];return _0x159758;},a34_0xaeca(_0x39c1cd,_0x4e8b75);}export async function ajouterReponseVideo(_0x185c8a,_0x358a47,_0x1062e9){const _0x5e19c8=a34_0x219469;await chargerConfig(),await download_store(_0x185c8a,_0x358a47,_0x1062e9,[_0x5e19c8(0x203)]);const _0x596864={'type':_0x5e19c8(0x208),'content':'responder_video.mp4','active':!![]};return config[_0x5e19c8(0x1d1)]=_0x596864,await sauvegarderConfig(),await send_reaction_message(_0x185c8a,_0x358a47,_0x1062e9,'‚úÖ'),await send_text_message(_0x185c8a,_0x358a47,_0x5e19c8(0x20a)+'‚ñ∏\x20type:\x20video',_0x1062e9),!![];}export async function listerReponses(_0x2e3892,_0x34e1f1,_0x19a2e0){const _0xeb7ac0=a34_0x219469;await chargerConfig();if(config[_0xeb7ac0(0x1d1)][_0xeb7ac0(0x1f2)]===0x0){await send_text_message(_0x2e3892,_0x34e1f1,'>\x20üìù\x20Aucune\x20r√©ponse\x20configur√©e',_0x19a2e0);return;}let _0x46dc9b=_0xeb7ac0(0x20c);config[_0xeb7ac0(0x1d1)]['forEach'](_0x2f888e=>{const _0x4a66bb=_0xeb7ac0,_0x500cd1=_0x2f888e[_0x4a66bb(0x1f3)]?'‚úÖ':'‚ùå',_0x72b2=_0x2f888e[_0x4a66bb(0x1e6)]===_0x4a66bb(0x1f1)?'üìÑ':_0x2f888e[_0x4a66bb(0x1e6)]===_0x4a66bb(0x1c8)?'üéµ':_0x2f888e[_0x4a66bb(0x1e6)]===_0x4a66bb(0x208)?'üé•':'‚ùì',_0xe1d923=_0x2f888e['type']===_0x4a66bb(0x1f1)?_0x2f888e[_0x4a66bb(0x207)][_0x4a66bb(0x1f2)]>0x32?_0x2f888e['content'][_0x4a66bb(0x1ef)](0x0,0x32)+_0x4a66bb(0x1f4):_0x2f888e[_0x4a66bb(0x207)]:_0x2f888e[_0x4a66bb(0x207)];_0x46dc9b+=_0x500cd1+'\x20'+_0x72b2+'\x20#'+_0x2f888e['id']+'\x20('+_0x2f888e[_0x4a66bb(0x1e6)]+')\x0a',_0x46dc9b+=_0x4a66bb(0x1e0)+_0xe1d923+'\x0a\x0a';}),await send_text_message(_0x2e3892,_0x34e1f1,_0x46dc9b,_0x19a2e0);}export async function activerReponse(_0x21dc46,_0x15f4ce,_0x3137bc,_0xb8b8dc){const _0x29198b=a34_0x219469;await chargerConfig();const _0x497936=config['responses'][_0x29198b(0x209)](_0x40fad8=>_0x40fad8['id']===parseInt(_0xb8b8dc));if(!_0x497936)return await send_reaction_message(_0x21dc46,_0x15f4ce,_0x3137bc,'‚ùå'),await send_text_message(_0x21dc46,_0x15f4ce,_0x29198b(0x202)+_0xb8b8dc+'\x20non\x20trouv√©e',_0x3137bc),![];if(_0x497936['active'])return await send_reaction_message(_0x21dc46,_0x15f4ce,_0x3137bc,'‚ÑπÔ∏è'),await send_text_message(_0x21dc46,_0x15f4ce,_0x29198b(0x1da)+_0xb8b8dc+'\x20d√©j√†\x20active',_0x3137bc),![];return _0x497936[_0x29198b(0x1f3)]=!![],await sauvegarderConfig(),await send_reaction_message(_0x21dc46,_0x15f4ce,_0x3137bc,'‚úÖ'),await send_text_message(_0x21dc46,_0x15f4ce,'>\x20‚úÖ\x20R√©ponse\x20#'+_0xb8b8dc+_0x29198b(0x1e2),_0x3137bc),!![];}export async function desactiverReponse(_0x5a47e1,_0x4e13fb,_0x2eb6c9,_0x35b2f1){const _0x1a3c64=a34_0x219469;await chargerConfig();const _0x4b3eaa=config[_0x1a3c64(0x1d1)][_0x1a3c64(0x209)](_0x213ea7=>_0x213ea7['id']===parseInt(_0x35b2f1));if(!_0x4b3eaa)return await send_reaction_message(_0x5a47e1,_0x4e13fb,_0x2eb6c9,'‚ùå'),await send_text_message(_0x5a47e1,_0x4e13fb,'>\x20‚ùå\x20R√©ponse\x20#'+_0x35b2f1+'\x20non\x20trouv√©e',_0x2eb6c9),![];if(!_0x4b3eaa[_0x1a3c64(0x1f3)])return await send_reaction_message(_0x5a47e1,_0x4e13fb,_0x2eb6c9,'‚ÑπÔ∏è'),await send_text_message(_0x5a47e1,_0x4e13fb,_0x1a3c64(0x1da)+_0x35b2f1+'\x20d√©j√†\x20d√©sactiv√©e',_0x2eb6c9),![];return _0x4b3eaa[_0x1a3c64(0x1f3)]=![],await sauvegarderConfig(),await send_reaction_message(_0x5a47e1,_0x4e13fb,_0x2eb6c9,'‚úÖ'),await send_text_message(_0x5a47e1,_0x4e13fb,_0x1a3c64(0x1f6)+_0x35b2f1+_0x1a3c64(0x1d5),_0x2eb6c9),!![];}export async function supprimerReponse(_0x2ab2f4,_0x44e537,_0x6172e,_0x5b7a51){const _0x1b77c4=a34_0x219469;await chargerConfig();const _0x481a6d=config['responses'][_0x1b77c4(0x1d7)](_0x18e93f=>_0x18e93f['id']===parseInt(_0x5b7a51));if(_0x481a6d===-0x1)return await send_reaction_message(_0x2ab2f4,_0x44e537,_0x6172e,'‚ùå'),await send_text_message(_0x2ab2f4,_0x44e537,_0x1b77c4(0x202)+_0x5b7a51+_0x1b77c4(0x1f9),_0x6172e),![];const _0x10897a=config[_0x1b77c4(0x1d1)][_0x1b77c4(0x1f7)](_0x481a6d,0x1)[0x0];return await sauvegarderConfig(),await send_reaction_message(_0x2ab2f4,_0x44e537,_0x6172e,'‚úÖ'),await send_text_message(_0x2ab2f4,_0x44e537,_0x1b77c4(0x1f6)+_0x5b7a51+_0x1b77c4(0x1c6)+('‚ñ∏\x20Type:\x20'+_0x10897a[_0x1b77c4(0x1e6)]),_0x6172e),!![];}export async function getStatutMentionResponder(_0x1a918d,_0x3298ab,_0x54f31e){const _0x44a71e=a34_0x219469;await chargerConfig();const _0x20d84a=config[_0x44a71e(0x1d1)][_0x44a71e(0x1e3)](_0x41def3=>_0x41def3[_0x44a71e(0x1f3)]),_0x5ee30f=config[_0x44a71e(0x1d1)][_0x44a71e(0x1e3)](_0xdc01d8=>!_0xdc01d8[_0x44a71e(0x1f3)]);await send_text_message(_0x1a918d,_0x3298ab,_0x44a71e(0x1fc)+(_0x44a71e(0x1d8)+(config[_0x44a71e(0x1ca)]?'‚úÖ':'‚ùå')+'\x0a')+('‚ñ∏\x20R√©ponses\x20actives:\x20'+_0x20d84a[_0x44a71e(0x1f2)]+'\x0a')+(_0x44a71e(0x1d9)+_0x5ee30f[_0x44a71e(0x1f2)]+'\x0a')+('‚ñ∏\x20Total:\x20'+config[_0x44a71e(0x1d1)]['length']+_0x44a71e(0x201)),_0x54f31e);}export async function ajouterReponse(_0x3f08f5,_0x7c5c12,_0x8b17ca){const _0x4cd6b2=a34_0x219469;if(!_0x7c5c12[_0x4cd6b2(0x1f8)]?.[_0x4cd6b2(0x1dd)]?.[_0x4cd6b2(0x1d0)]?.[_0x4cd6b2(0x1ee)])return await send_reaction_message(_0x3f08f5,_0x7c5c12,_0x8b17ca,'‚ùå'),await send_text_message(_0x3f08f5,_0x7c5c12,'>\x20‚ö†Ô∏è\x20R√©pondez\x20√†\x20un\x20m√©dia\x20ou\x20a\x20un\x20texte\x20pour\x20ajouter\x20une\x20r√©ponse\x20du\x20bot\x20aux\x20mentions\x20tags\x20',_0x8b17ca,undefined,!![],![],!![]);if(_0x7c5c12[_0x4cd6b2(0x1f8)]?.['extendedTextMessage']?.[_0x4cd6b2(0x1d0)]?.[_0x4cd6b2(0x1ee)]?.[_0x4cd6b2(0x1ea)])await ajouterReponseVideo(_0x3f08f5,_0x7c5c12,_0x8b17ca);else{if(_0x7c5c12['message']?.['extendedTextMessage']?.[_0x4cd6b2(0x1d0)]?.[_0x4cd6b2(0x1ee)]?.[_0x4cd6b2(0x1eb)])await ajouterReponseAudio(_0x3f08f5,_0x7c5c12,_0x8b17ca);else{if(_0x7c5c12[_0x4cd6b2(0x1f8)]?.[_0x4cd6b2(0x1dd)]?.['contextInfo']?.[_0x4cd6b2(0x1ee)]?.[_0x4cd6b2(0x1ce)]||_0x7c5c12[_0x4cd6b2(0x1f8)]?.['extendedTextMessage']?.['contextInfo']?.[_0x4cd6b2(0x1ee)]?.[_0x4cd6b2(0x1f1)]){const _0x34b2b7=_0x7c5c12[_0x4cd6b2(0x1f8)]?.[_0x4cd6b2(0x1dd)]?.[_0x4cd6b2(0x1d0)]?.[_0x4cd6b2(0x1ee)]?.[_0x4cd6b2(0x1ce)]||_0x7c5c12[_0x4cd6b2(0x1f8)]?.[_0x4cd6b2(0x1dd)]?.['contextInfo']?.[_0x4cd6b2(0x1ee)]?.[_0x4cd6b2(0x1f1)];await ajouterReponseTextuelle(_0x3f08f5,_0x7c5c12,_0x8b17ca,_0x34b2b7);}else return await send_text_message(_0x3f08f5,_0x7c5c12,'>\x20‚ùå\x20Type\x20de\x20message\x20non\x20support√©\x20pour\x20la\x20r√©ponse',_0x8b17ca),![];}}}export function getConfigMentionResponder(){return config;}