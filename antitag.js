const a9_0x4cd384=a9_0x51b9;(function(_0x5c0624,_0x16b7d5){const _0x6619f0=a9_0x51b9,_0x154cba=_0x5c0624();while(!![]){try{const _0x992ff5=parseInt(_0x6619f0(0x13d))/0x1*(parseInt(_0x6619f0(0x120))/0x2)+parseInt(_0x6619f0(0x11e))/0x3*(parseInt(_0x6619f0(0x111))/0x4)+-parseInt(_0x6619f0(0x109))/0x5+parseInt(_0x6619f0(0x10b))/0x6*(parseInt(_0x6619f0(0x127))/0x7)+-parseInt(_0x6619f0(0x12d))/0x8+parseInt(_0x6619f0(0x116))/0x9*(parseInt(_0x6619f0(0x128))/0xa)+-parseInt(_0x6619f0(0x130))/0xb;if(_0x992ff5===_0x16b7d5)break;else _0x154cba['push'](_0x154cba['shift']());}catch(_0x3840a2){_0x154cba['push'](_0x154cba['shift']());}}}(a9_0x302d,0x87703));import a9_0x13fec1 from'fs/promises';import a9_0x2d8c2b from'path';import{fileURLToPath}from'url';import{delete_message,send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';import{isAdmin}from'../utils/gestion_groupe.js';const __dirname=a9_0x2d8c2b[a9_0x4cd384(0x129)](fileURLToPath(import.meta['url'])),ANTITAG_FILE=a9_0x2d8c2b['join'](__dirname,a9_0x4cd384(0x113)),defaultConfig={'groupesActives':{},'parametresGlobaux':{'supprimerMessage':!![],'avertir':!![],'expulser':!![],'maxMentions':0x1},'whitelist':[],'tentatives':{}};let config={...defaultConfig};async function chargerConfig(){const _0x231336=a9_0x4cd384;try{await a9_0x13fec1[_0x231336(0x132)](a9_0x2d8c2b[_0x231336(0x129)](ANTITAG_FILE),{'recursive':!![]}),await a9_0x13fec1[_0x231336(0x146)](ANTITAG_FILE);const _0x1052e5=await a9_0x13fec1[_0x231336(0x103)](ANTITAG_FILE,_0x231336(0x134)),_0x4e51a0=JSON[_0x231336(0x106)](_0x1052e5),_0x2e54b5=Date['now']();for(const _0x2de6b9 in _0x4e51a0[_0x231336(0x145)]){_0x2e54b5-_0x4e51a0[_0x231336(0x145)][_0x2de6b9]['lastAttempt']>0x5265c00&&delete _0x4e51a0['tentatives'][_0x2de6b9];}return{...defaultConfig,..._0x4e51a0};}catch(_0x26081){return _0x26081[_0x231336(0x141)]!==_0x231336(0x13a)&&console[_0x231336(0x10e)](_0x231336(0x138),_0x26081),{...defaultConfig};}}async function sauvegarderConfig(){const _0x557db7=a9_0x4cd384;try{await a9_0x13fec1[_0x557db7(0x12a)](ANTITAG_FILE,JSON[_0x557db7(0x104)](config,null,0x2),_0x557db7(0x134));}catch(_0x23d9ff){console[_0x557db7(0x10e)](_0x557db7(0x142),_0x23d9ff);}}function a9_0x302d(){const _0x3e867e=['avertir','json/antitag.json','remove','parametresGlobaux','36CqesjG','>\x20‚úÖ\x20\x22','protocolMessage',',\x20trop\x20de\x20mentions\x20interdites\x20!\x20(','includes','‚ñ∏\x20Expulsion:\x20','push','\x22\x20whitelist√©','3129837KljEjM','‚ñ∏\x20Max\x20mentions:\x20','4nbOGAE','endsWith','>\x20üîÑ\x20AntiTag\x20d√©sactiv√©','maxTentatives','>\x20‚ö†Ô∏è\x20Admin\x20requis','participant','Aucun\x20groupe','2975SYUfmT','2407610fvVOAx','dirname','writeFile','groupesActives','contextInfo','8558352gqjyGf','catch','map','12158080kCMWcy','mentionedJid','mkdir','>\x20‚ö†Ô∏è\x20Commande\x20r√©serv√©e\x20aux\x20groupes','utf-8','expulser','>\x20‚ÑπÔ∏è\x20\x22','maxMentions','[AntiTag]\x20Erreur\x20chargement\x20config:','\x20expuls√©\x20pour\x20abus\x20de\x20mentions','ENOENT','>\x20‚ÑπÔ∏è\x20Non\x20activ√©','whitelist','240761ZKhkTc','>\x20üîÑ\x20AntiTag\x20activ√©\x0a','Aucune','count','code','[AntiTag]\x20Erreur\x20sauvegarde\x20config:','groupParticipantsUpdate','key','tentatives','access','length','supprimerMessage','readFile','stringify','extendedTextMessage','parse','now','reactionMessage','1924455ZRyrUW','@g.us','8850becVaB','‚ñ∏\x20Avertissement:\x20','join','error','‚ñ∏\x20Suppression:\x20','message','4fQpVim'];a9_0x302d=function(){return _0x3e867e;};return a9_0x302d();}((async()=>{config=await chargerConfig();})());async function enregistrerTentative(_0x5c9af3,_0x423e13){const _0x297dc8=a9_0x4cd384,_0x20f527=_0x5c9af3+':'+_0x423e13,_0xbae42=Date[_0x297dc8(0x107)]();return config[_0x297dc8(0x145)][_0x20f527]={'count':(config[_0x297dc8(0x145)][_0x20f527]?.[_0x297dc8(0x140)]||0x0)+0x1,'lastAttempt':_0xbae42},await sauvegarderConfig(),config[_0x297dc8(0x145)][_0x20f527]['count'];}async function resetTentatives(_0x547f56,_0x5e604b){const _0x40449c=a9_0x4cd384,_0x195c15=_0x547f56+':'+_0x5e604b;config[_0x40449c(0x145)][_0x195c15]&&(delete config[_0x40449c(0x145)][_0x195c15],await sauvegarderConfig());}async function detecterTropMentions(_0x107ad4,_0x3fab25){const _0x2d8551=a9_0x4cd384,_0x22c930=_0x107ad4[_0x2d8551(0x110)]?.[_0x2d8551(0x105)]?.[_0x2d8551(0x12c)]?.[_0x2d8551(0x131)]||[];return _0x22c930[_0x2d8551(0x147)]>_0x3fab25;}function a9_0x51b9(_0x28a8ea,_0x21542f){const _0x302d48=a9_0x302d();return a9_0x51b9=function(_0x51b957,_0x4228bf){_0x51b957=_0x51b957-0x103;let _0x44886e=_0x302d48[_0x51b957];return _0x44886e;},a9_0x51b9(_0x28a8ea,_0x21542f);}export function creerAntiTagBaileys(_0x3f59c1,_0x315c81,_0x5005c2){return async()=>{const _0x21ceab=a9_0x51b9;try{if(!_0x315c81[_0x21ceab(0x110)]||!_0x5005c2[_0x21ceab(0x121)](_0x21ceab(0x10a)))return;if(_0x315c81[_0x21ceab(0x110)][_0x21ceab(0x118)]||_0x315c81['message'][_0x21ceab(0x108)])return;const _0x433d30=config[_0x21ceab(0x12b)][_0x5005c2];if(!_0x433d30)return;const _0xa9fe0f=_0x315c81[_0x21ceab(0x144)][_0x21ceab(0x125)];if(!_0xa9fe0f||await isAdmin(_0x3f59c1,_0x5005c2,_0xa9fe0f))return;if(config[_0x21ceab(0x13c)][_0x21ceab(0x11a)](_0xa9fe0f)||_0x433d30[_0x21ceab(0x13c)]&&_0x433d30[_0x21ceab(0x13c)][_0x21ceab(0x11a)](_0xa9fe0f))return;const _0x4612d0=_0x433d30[_0x21ceab(0x137)]||config[_0x21ceab(0x115)]['maxMentions'];if(!await detecterTropMentions(_0x315c81,_0x4612d0))return;const _0x3507aa=_0xa9fe0f['split']('@')[0x0],_0x5e4ca9=await enregistrerTentative(_0x5005c2,_0xa9fe0f);_0x433d30[_0x21ceab(0x148)]!==![]&&setTimeout(()=>delete_message(_0x3f59c1,_0x315c81,_0x5005c2,_0x315c81[_0x21ceab(0x144)])[_0x21ceab(0x12e)](()=>{}),0x3e8),_0x433d30[_0x21ceab(0x112)]!==![]&&await send_text_message(_0x3f59c1,_0x315c81,'>\x20‚ö†Ô∏è\x20@'+_0x3507aa+_0x21ceab(0x119)+_0x5e4ca9+'/'+(_0x433d30[_0x21ceab(0x123)]||0x3)+')',_0x5005c2,[_0xa9fe0f],![],!![],![]),_0x5e4ca9>=(_0x433d30[_0x21ceab(0x123)]||0x3)&&_0x433d30[_0x21ceab(0x135)]&&(await _0x3f59c1[_0x21ceab(0x143)](_0x5005c2,[_0xa9fe0f],_0x21ceab(0x114))['catch'](()=>{}),await send_text_message(_0x3f59c1,_0x315c81,'>\x20‚ùå\x20@'+_0x3507aa+_0x21ceab(0x139),_0x5005c2,[_0xa9fe0f],![],!![],![]),await resetTentatives(_0x5005c2,_0xa9fe0f));}catch(_0x26cd41){console[_0x21ceab(0x10e)]('[AntiTag]\x20Erreur:',_0x26cd41);}};}export async function ajouterGroupeAntitag(_0x27a4e0,_0x2ed5e4,_0x5987c0,_0x4e74f0){const _0x50eb72=a9_0x4cd384;if(!_0x4e74f0)return await send_reaction_message(_0x27a4e0,_0x2ed5e4,_0x5987c0,'‚ùå'),await send_text_message(_0x27a4e0,_0x2ed5e4,_0x50eb72(0x133),_0x5987c0),![];const _0x4d801e=_0x2ed5e4['key'][_0x50eb72(0x125)];if(!await isAdmin(_0x27a4e0,_0x5987c0,_0x4d801e))return await send_reaction_message(_0x27a4e0,_0x2ed5e4,_0x5987c0,'‚ùå'),await send_text_message(_0x27a4e0,_0x2ed5e4,_0x50eb72(0x124),_0x5987c0),![];return!config[_0x50eb72(0x12b)][_0x5987c0]?(config[_0x50eb72(0x12b)][_0x5987c0]={...config[_0x50eb72(0x115)]},await sauvegarderConfig(),await send_reaction_message(_0x27a4e0,_0x2ed5e4,_0x5987c0,'‚úÖ'),await send_text_message(_0x27a4e0,_0x2ed5e4,_0x50eb72(0x13e)+(_0x50eb72(0x10f)+(config[_0x50eb72(0x115)]['supprimerMessage']?'‚úÖ':'‚ùå')+'\x0a')+(_0x50eb72(0x10c)+(config[_0x50eb72(0x115)][_0x50eb72(0x112)]?'‚úÖ':'‚ùå')+'\x0a')+(_0x50eb72(0x11b)+(config[_0x50eb72(0x115)][_0x50eb72(0x135)]?'‚úÖ':'‚ùå')+'\x0a')+(_0x50eb72(0x11f)+config[_0x50eb72(0x115)]['maxMentions']+'\x0a')+('‚ñ∏\x20Whitelist:\x20'+(config[_0x50eb72(0x13c)][_0x50eb72(0x147)]>0x0?config[_0x50eb72(0x13c)][_0x50eb72(0x10d)](',\x20'):_0x50eb72(0x13f))),_0x5987c0),!![]):(await send_reaction_message(_0x27a4e0,_0x2ed5e4,_0x5987c0,'‚ÑπÔ∏è'),await send_text_message(_0x27a4e0,_0x2ed5e4,'>\x20‚ÑπÔ∏è\x20D√©j√†\x20activ√©',_0x5987c0),![]);}export async function supprimerGroupeAntitag(_0x185b5c,_0x5e50ad,_0x1c2085,_0x3eccef){const _0x169df1=a9_0x4cd384;if(!_0x3eccef)return await send_reaction_message(_0x185b5c,_0x5e50ad,_0x1c2085,'‚ùå'),await send_text_message(_0x185b5c,_0x5e50ad,_0x169df1(0x133),_0x1c2085),![];const _0x243c78=_0x5e50ad[_0x169df1(0x144)]['participant'];if(!await isAdmin(_0x185b5c,_0x1c2085,_0x243c78))return await send_reaction_message(_0x185b5c,_0x5e50ad,_0x1c2085,'‚ùå'),await send_text_message(_0x185b5c,_0x5e50ad,_0x169df1(0x124),_0x1c2085),![];if(config[_0x169df1(0x12b)][_0x1c2085])return delete config['groupesActives'][_0x1c2085],await sauvegarderConfig(),await send_reaction_message(_0x185b5c,_0x5e50ad,_0x1c2085,'‚úÖ'),await send_text_message(_0x185b5c,_0x5e50ad,_0x169df1(0x122),_0x1c2085),!![];return await send_reaction_message(_0x185b5c,_0x5e50ad,_0x1c2085,'‚ÑπÔ∏è'),await send_text_message(_0x185b5c,_0x5e50ad,_0x169df1(0x13b),_0x1c2085),![];}export async function listerGroupesAntitag(){const _0x9b125=a9_0x4cd384;return Object['keys'](config[_0x9b125(0x12b)])[_0x9b125(0x12f)](_0x15c5da=>_0x15c5da['split']('@')[0x0])[_0x9b125(0x10d)]('\x0a')||_0x9b125(0x126);}export async function whitelistAntitag(_0x513c64,_0x48837b,_0xbd7fbb,_0x3ea95e){const _0x2b5423=a9_0x4cd384;if(!_0x3ea95e[_0x2b5423(0x121)]('@s.whatsapp.net'))_0x3ea95e+='@s.whatsapp.net';if(!config['whitelist']['includes'](_0x3ea95e))return config[_0x2b5423(0x13c)][_0x2b5423(0x11c)](_0x3ea95e),await sauvegarderConfig(),await send_reaction_message(_0x513c64,_0x48837b,_0xbd7fbb,'‚úÖ'),await send_text_message(_0x513c64,_0x48837b,_0x2b5423(0x117)+_0x3ea95e+_0x2b5423(0x11d),_0xbd7fbb),!![];return await send_reaction_message(_0x513c64,_0x48837b,_0xbd7fbb,'‚ÑπÔ∏è'),await send_text_message(_0x513c64,_0x48837b,_0x2b5423(0x136)+_0x3ea95e+'\x22\x20d√©j√†\x20autoris√©',_0xbd7fbb),![];}