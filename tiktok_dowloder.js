(function(_0x4ec958,_0x381d26){const _0x4736f3=a45_0x2f4b,_0x602a71=_0x4ec958();while(!![]){try{const _0x13650a=-parseInt(_0x4736f3(0x190))/0x1+-parseInt(_0x4736f3(0x181))/0x2*(parseInt(_0x4736f3(0x19f))/0x3)+parseInt(_0x4736f3(0x18e))/0x4+parseInt(_0x4736f3(0x19a))/0x5+-parseInt(_0x4736f3(0x18c))/0x6+-parseInt(_0x4736f3(0x184))/0x7+parseInt(_0x4736f3(0x19e))/0x8;if(_0x13650a===_0x381d26)break;else _0x602a71['push'](_0x602a71['shift']());}catch(_0x3d4978){_0x602a71['push'](_0x602a71['shift']());}}}(a45_0x2da7,0xe302c));import a45_0x1d8729 from'node-fetch';import{send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';function a45_0x2da7(){const _0x2ec74e=['vt.tiktok.com','arrayBuffer','>\x20üîé\x20Recherche\x20du\x20lien\x20direct\x20TikTok...','>\x20‚ùå\x20Veuillez\x20fournir\x20une\x20URL\x20TikTok\x20valide.','1091215XZdFiA','toLowerCase','remoteJid','tiktok.com','22233528Xfochj','15495jazULf','error','no_watermark','includes','video/mp4','status','sendMessage','Erreur\x20thumbnail:','json','>\x20‚ùå\x20Impossible\x20d\x27obtenir\x20le\x20lien\x20direct.\x20Essayez\x20une\x20autre\x20vid√©o.','>\x20‚ùå\x20URL\x20TikTok\x20invalide.\x20Exemple\x20:\x20https://www.tiktok.com/@user/video/...','‚ùå\x20√âchec\x20de\x20l\x27envoi.\x20Erreur\x20:\x20','thumbnail','Vid√©o\x20TikTok','436AymJrK','Erreur\x20de\x20t√©l√©chargement:\x20','vm.tiktok.com','10751440FSPlFh','Erreur\x20TikTok\x20Downloader:','Aucun\x20lien\x20TikTok\x20direct\x20trouv√©','length','üì•\x20T√©l√©chargement\x20en\x20cours...','directUrl','message','hostname','3805134DWFjtZ','audio','6345740XxizRr','key','357954dcOGmA','results','title','success','slice','Erreur\x20HTTP:\x20'];a45_0x2da7=function(){return _0x2ec74e;};return a45_0x2da7();}export async function sendTikTokVideo(_0x12cd72,_0x2bf0a2,_0x58e18f){const _0xb724b0=a45_0x2f4b,{key:_0x219847}=_0x2bf0a2,_0x538d74=_0x219847[_0xb724b0(0x19c)];if(_0x58e18f[_0xb724b0(0x187)]===0x0){await send_text_message(_0x12cd72,_0x2bf0a2,_0xb724b0(0x199),_0x538d74,undefined,!![],![],!![]);return;}const _0x37dd1d=_0x58e18f[0x0];try{if(!isValidTikTokUrl(_0x37dd1d))return await send_text_message(_0x12cd72,_0x2bf0a2,_0xb724b0(0x1a9),_0x538d74,undefined,!![],![],!![]);await send_reaction_message(_0x12cd72,_0x2bf0a2,_0x538d74,'‚è≥');const _0x4c8a1a=await _0x12cd72[_0xb724b0(0x1a5)](_0x538d74,{'text':_0xb724b0(0x198)}),_0x1036c9=await getDirectTikTokUrl(_0x37dd1d);if(!_0x1036c9||!_0x1036c9['directUrl'])return await send_text_message(_0x12cd72,_0x2bf0a2,_0xb724b0(0x1a8),_0x538d74,undefined,![],!![],![]);await _0x12cd72[_0xb724b0(0x1a5)](_0x538d74,{'edit':_0x4c8a1a[_0xb724b0(0x18f)],'text':_0xb724b0(0x188)});const _0x3a72f5=await a45_0x1d8729(_0x1036c9[_0xb724b0(0x189)]);if(!_0x3a72f5['ok'])throw new Error(_0xb724b0(0x182)+_0x3a72f5[_0xb724b0(0x1a4)]);let _0x5e6abe;if(_0x1036c9[_0xb724b0(0x1ab)])try{const _0xcf42d7=await a45_0x1d8729(_0x1036c9[_0xb724b0(0x1ab)]);_0x5e6abe=await _0xcf42d7[_0xb724b0(0x197)]();}catch(_0x27b6c3){console[_0xb724b0(0x1a0)](_0xb724b0(0x1a6),_0x27b6c3);}await _0x12cd72[_0xb724b0(0x1a5)](_0x538d74,{'video':{'stream':_0x3a72f5['body'],'caption':_0x1036c9[_0xb724b0(0x192)]||_0xb724b0(0x180),'mimetype':_0xb724b0(0x1a3)},..._0x5e6abe&&{'contextInfo':{'externalAdReply':{'title':(_0x1036c9['title']||_0xb724b0(0x180))[_0xb724b0(0x194)](0x0,0x3c),'body':'Source\x20:\x20TikTok','thumbnail':Buffer['from'](_0x5e6abe),'mediaUrl':_0x37dd1d}}}});}catch(_0x53c973){console[_0xb724b0(0x1a0)](_0xb724b0(0x185),_0x53c973),await send_text_message(_0x12cd72,_0x2bf0a2,_0xb724b0(0x1aa)+_0x53c973[_0xb724b0(0x18a)],_0x538d74,undefined,!![],![],!![]);}}function isValidTikTokUrl(_0x173b0e){const _0x1e3fd6=a45_0x2f4b;try{const _0x313699=new URL(_0x173b0e),_0xa1bd9a=_0x313699[_0x1e3fd6(0x18b)][_0x1e3fd6(0x19b)]();return _0xa1bd9a['includes'](_0x1e3fd6(0x19d))||_0xa1bd9a['includes'](_0x1e3fd6(0x183))||_0xa1bd9a[_0x1e3fd6(0x1a2)](_0x1e3fd6(0x196));}catch{return![];}}function a45_0x2f4b(_0x2222b4,_0x3db380){const _0x2da73a=a45_0x2da7();return a45_0x2f4b=function(_0x2f4bc1,_0x23cc17){_0x2f4bc1=_0x2f4bc1-0x180;let _0x45fdd2=_0x2da73a[_0x2f4bc1];return _0x45fdd2;},a45_0x2f4b(_0x2222b4,_0x3db380);}async function getDirectTikTokUrl(_0x465d7a){const _0x226c50=a45_0x2f4b;try{const _0x34d946='https://apis.davidcyriltech.my.id/download/tiktokv4?url='+encodeURIComponent(_0x465d7a),_0x1b03e8=await a45_0x1d8729(_0x34d946);if(!_0x1b03e8['ok'])throw new Error(_0x226c50(0x195)+_0x1b03e8[_0x226c50(0x1a4)]);const _0x950b76=await _0x1b03e8[_0x226c50(0x1a7)]();if(_0x950b76[_0x226c50(0x193)]&&_0x950b76['results']&&_0x950b76[_0x226c50(0x191)]['no_watermark'])return{'directUrl':_0x950b76[_0x226c50(0x191)][_0x226c50(0x1a1)],'title':_0x226c50(0x180),'thumbnail':_0x950b76[_0x226c50(0x191)][_0x226c50(0x1ab)],'audio':_0x950b76['results'][_0x226c50(0x18d)]};else throw new Error(_0x226c50(0x186));}catch(_0x3bb4d0){return console[_0x226c50(0x1a0)]('Erreur\x20getTikTokUrl:',_0x3bb4d0),null;}}