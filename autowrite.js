const a13_0x4faeb9=a13_0x3943;(function(_0x4be143,_0x2046b6){const _0x5f4e8e=a13_0x3943,_0x21e06e=_0x4be143();while(!![]){try{const _0x2d1709=-parseInt(_0x5f4e8e(0x151))/0x1+-parseInt(_0x5f4e8e(0x150))/0x2+-parseInt(_0x5f4e8e(0x13f))/0x3+parseInt(_0x5f4e8e(0x162))/0x4+-parseInt(_0x5f4e8e(0x145))/0x5*(parseInt(_0x5f4e8e(0x161))/0x6)+-parseInt(_0x5f4e8e(0x144))/0x7*(-parseInt(_0x5f4e8e(0x155))/0x8)+-parseInt(_0x5f4e8e(0x146))/0x9*(-parseInt(_0x5f4e8e(0x14e))/0xa);if(_0x2d1709===_0x2046b6)break;else _0x21e06e['push'](_0x21e06e['shift']());}catch(_0x1147a1){_0x21e06e['push'](_0x21e06e['shift']());}}}(a13_0x3589,0xc9778));import a13_0x7bfbf9 from'fs/promises';import a13_0x2ad719 from'path';import{fileURLToPath}from'url';import{send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';const __dirname=a13_0x2ad719['dirname'](fileURLToPath(import.meta[a13_0x4faeb9(0x154)])),CONFIG_PATH=a13_0x2ad719[a13_0x4faeb9(0x147)](__dirname,a13_0x4faeb9(0x14f));let AUTOWRITE_ENABLED=![],AUTOWRITE_DURATION=0xc350;async function loadAutoWriteConfig(){const _0x24f767=a13_0x4faeb9;try{const _0x2ac41a=await a13_0x7bfbf9[_0x24f767(0x164)](CONFIG_PATH,'utf-8'),_0x3902a4=JSON[_0x24f767(0x15c)](_0x2ac41a);AUTOWRITE_ENABLED=_0x3902a4['enabled']||![],AUTOWRITE_DURATION=_0x3902a4[_0x24f767(0x158)]||0x1388;}catch(_0x46f29b){_0x46f29b[_0x24f767(0x148)]==='ENOENT'?await saveAutoWriteConfig():console[_0x24f767(0x15b)](_0x24f767(0x142),_0x46f29b);}}async function saveAutoWriteConfig(){const _0x2f2315=a13_0x4faeb9,_0x3315a0={'enabled':AUTOWRITE_ENABLED,'duration':AUTOWRITE_DURATION};await a13_0x7bfbf9[_0x2f2315(0x14a)](CONFIG_PATH,JSON[_0x2f2315(0x166)](_0x3315a0,null,0x2)),console[_0x2f2315(0x156)]('Configuration\x20AutoWrite\x20sauvegardée');}export async function enableAutoWrite(_0x2ac369,_0x163aa5,_0x3f517b,_0x1623ed=null){const _0x2200de=a13_0x4faeb9;await loadAutoWriteConfig();if(AUTOWRITE_ENABLED)return await send_text_message(_0x2ac369,_0x163aa5,_0x2200de(0x152),_0x3f517b),![];return _0x1623ed&&!isNaN(_0x1623ed)&&(AUTOWRITE_DURATION=parseInt(_0x1623ed)),AUTOWRITE_ENABLED=!![],await saveAutoWriteConfig(),await send_text_message(_0x2ac369,_0x163aa5,_0x2200de(0x14b)+AUTOWRITE_DURATION+_0x2200de(0x15a),_0x3f517b),!![];}export async function disableAutoWrite(_0x298a70,_0xacde25,_0x1a2e55){const _0x162118=a13_0x4faeb9;await loadAutoWriteConfig();if(!AUTOWRITE_ENABLED)return await send_text_message(_0x298a70,_0xacde25,_0x162118(0x149),_0x1a2e55),![];return AUTOWRITE_ENABLED=![],await saveAutoWriteConfig(),await send_text_message(_0x298a70,_0xacde25,_0x162118(0x14d),_0x1a2e55),console['log'](_0x162118(0x15d)),!![];}function a13_0x3589(){const _0x59547a=['url','72foeeDB','log','broadcast','duration','>\x20❌\x20Durée\x20invalide.\x20Veuillez\x20spécifier\x20un\x20nombre\x20positif\x20en\x20millisecondes.','ms.','error','parse','AutoWrite\x20désactivé\x20avec\x20succès','remoteJid','status','message','6ptrnuS','4876832HvaOCC','paused','readFile','key','stringify','composing','[AUTO-WRITE]\x20Simulation\x20terminée','[AUTO-WRITE]\x20Erreur\x20lors\x20de\x20l\x27arrêt:','569787RBQiBV','ms\x20pour\x20','[AUTO-WRITE]\x20Erreur\x20lors\x20de\x20la\x20simulation:','Erreur\x20de\x20lecture\x20de\x20la\x20config\x20AutoWrite:','includes','257691RtZahh','3476085OTRVft','3872403gPyBGM','join','code','>\x20⚠️\x20L\x27autowrite\x20est\x20déjà\x20désactivé.','writeFile','>\x20✅\x20L\x27autowrite\x20est\x20maintenant\x20activé\x20pour\x20','sendPresenceUpdate','>\x20✅\x20L\x27autowrite\x20est\x20maintenant\x20désactivé.','50payTxh','json/autowrite_config.json','1702172uzgUar','1140420SmnkKJ','>\x20⚠️\x20L\x27autowrite\x20est\x20déjà\x20activé.','[AUTO-WRITE]\x20Erreur\x20middleware:'];a13_0x3589=function(){return _0x59547a;};return a13_0x3589();}function a13_0x3943(_0x53601d,_0x5d1642){const _0x3589b0=a13_0x3589();return a13_0x3943=function(_0x394323,_0x292d36){_0x394323=_0x394323-0x13d;let _0x33bd96=_0x3589b0[_0x394323];return _0x33bd96;},a13_0x3943(_0x53601d,_0x5d1642);}export async function simulateTyping(_0x495ad2,_0x3d8442,_0x405f59=null){const _0xf4a872=a13_0x4faeb9;await loadAutoWriteConfig();if(!AUTOWRITE_ENABLED)return;const _0x483d0b=_0x405f59||AUTOWRITE_DURATION;try{await _0x495ad2[_0xf4a872(0x14c)](_0xf4a872(0x167),_0x3d8442),console[_0xf4a872(0x156)]('[AUTO-WRITE]\x20Simulation\x20d\x27écriture\x20pendant\x20'+_0x483d0b+_0xf4a872(0x140)+_0x3d8442),setTimeout(async()=>{const _0x3adb03=_0xf4a872;try{await _0x495ad2['sendPresenceUpdate'](_0x3adb03(0x163),_0x3d8442),console[_0x3adb03(0x156)](_0x3adb03(0x13d));}catch(_0x3243b6){console[_0x3adb03(0x15b)](_0x3adb03(0x13e),_0x3243b6[_0x3adb03(0x160)]);}},_0x483d0b);}catch(_0x40ac82){console['error'](_0xf4a872(0x141),_0x40ac82[_0xf4a872(0x160)]);}}export async function autoWriteMiddleware(_0x3be1cb,_0x39d69b){const _0x422a9e=a13_0x4faeb9;await loadAutoWriteConfig();if(!AUTOWRITE_ENABLED)return;try{if(_0x39d69b[_0x422a9e(0x165)]&&_0x39d69b[_0x422a9e(0x165)][_0x422a9e(0x15e)]&&_0x39d69b[_0x422a9e(0x160)]&&_0x39d69b[_0x422a9e(0x160)]['conversation']){if(_0x39d69b[_0x422a9e(0x165)][_0x422a9e(0x15e)][_0x422a9e(0x143)](_0x422a9e(0x15f))||_0x39d69b[_0x422a9e(0x165)]['remoteJid'][_0x422a9e(0x143)](_0x422a9e(0x157)))return;await simulateTyping(_0x3be1cb,_0x39d69b[_0x422a9e(0x165)]['remoteJid']);}}catch(_0x3ee04b){console[_0x422a9e(0x15b)](_0x422a9e(0x153),_0x3ee04b[_0x422a9e(0x160)]);}}export async function setAutoWriteDuration(_0x47176b,_0x57378e,_0x9079be,_0x30dff3){const _0x103a76=a13_0x4faeb9;if(isNaN(_0x30dff3)||_0x30dff3<=0x0)return await send_text_message(_0x47176b,_0x57378e,_0x103a76(0x159),_0x9079be),![];return AUTOWRITE_DURATION=parseInt(_0x30dff3),await saveAutoWriteConfig(),await send_text_message(_0x47176b,_0x57378e,'>\x20✅\x20Durée\x20de\x20l\x27autowrite\x20définie\x20à\x20'+AUTOWRITE_DURATION+_0x103a76(0x15a),_0x9079be),!![];}