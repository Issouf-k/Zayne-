const a2_0x3d3f0b=a2_0x526f;(function(_0x2de3e9,_0x414c11){const _0xd8565f=a2_0x526f,_0x51f095=_0x2de3e9();while(!![]){try{const _0x2c01b3=-parseInt(_0xd8565f(0x14b))/0x1*(parseInt(_0xd8565f(0x13d))/0x2)+-parseInt(_0xd8565f(0x13a))/0x3+-parseInt(_0xd8565f(0x145))/0x4*(parseInt(_0xd8565f(0x149))/0x5)+-parseInt(_0xd8565f(0x152))/0x6+parseInt(_0xd8565f(0x134))/0x7+parseInt(_0xd8565f(0x133))/0x8+parseInt(_0xd8565f(0x14f))/0x9;if(_0x2c01b3===_0x414c11)break;else _0x51f095['push'](_0x51f095['shift']());}catch(_0x1695c5){_0x51f095['push'](_0x51f095['shift']());}}}(a2_0x5ac8,0xcbe21));function a2_0x5ac8(){const _0xeb9a39=['23065CdClQr','catch','2IsdJtx','groupMetadata','>\x20ðŸ›¡ï¸\x20AntiDemote\x20activÃ©\x0a','endsWith','5129955XMErwx','\x20a\x20Ã©tÃ©\x20rÃ©trogradÃ©\x0a','participant','2099376XhTRzs','utf-8','writeFile','\x20a\x20Ã©tÃ©\x20repromu\x0a','readFile','groupParticipantsUpdate','admin','groupesActives','map','>\x20âš ï¸\x20Commande\x20rÃ©servÃ©e\x20aux\x20groupes','>\x20âš ï¸\x20Admin\x20requis','>\x20â„¹ï¸\x20DÃ©jÃ \x20activÃ©','â–¸\x20Repromotion\x20automatique\x20des\x20victimes\x0a','dirname','parse','promote','6451448TqqBZM','4482898JNpURP','join','url','key','error','[AntiDemote]\x20Erreur:','1093608EHiCJV','access','stringify','56746hkYiyT','split','keys','demote','mkdir','[AntiDemote]\x20Erreur\x20sauvegarde\x20config:','all','â–¸\x20RÃ©trogradation\x20des\x20demoteurs','356QycQRN','Aucun\x20groupe\x20protÃ©gÃ©','>\x20â„¹ï¸\x20Non\x20activÃ©','â–¸\x20@'];a2_0x5ac8=function(){return _0xeb9a39;};return a2_0x5ac8();}import a2_0x666836 from'fs/promises';import a2_0x287f8d from'path';import{fileURLToPath}from'url';import{send_text_message,send_reaction_message}from'../utils/sendmessagewa.js';import{isAdmin}from'../utils/gestion_groupe.js';const __dirname=a2_0x287f8d['dirname'](fileURLToPath(import.meta[a2_0x3d3f0b(0x136)])),ANTIDEMOTE_FILE=a2_0x287f8d[a2_0x3d3f0b(0x135)](__dirname,'json/antidemote.json'),defaultConfig={'groupesActives':{}};let config={...defaultConfig};async function chargerConfig(){const _0x4b8219=a2_0x3d3f0b;try{await a2_0x666836[_0x4b8219(0x141)](a2_0x287f8d[_0x4b8219(0x130)](ANTIDEMOTE_FILE),{'recursive':!![]}),await a2_0x666836[_0x4b8219(0x13b)](ANTIDEMOTE_FILE);const _0x57c1f7=await a2_0x666836[_0x4b8219(0x156)](ANTIDEMOTE_FILE,_0x4b8219(0x153)),_0x50b470=JSON[_0x4b8219(0x131)](_0x57c1f7);return{...defaultConfig,..._0x50b470};}catch(_0x4ba782){return _0x4ba782['code']!=='ENOENT'&&console[_0x4b8219(0x138)]('[AntiDemote]\x20Erreur\x20chargement\x20config:',_0x4ba782),{...defaultConfig};}}async function sauvegarderConfig(){const _0x315975=a2_0x3d3f0b;try{await a2_0x666836[_0x315975(0x154)](ANTIDEMOTE_FILE,JSON[_0x315975(0x13c)](config,null,0x2),_0x315975(0x153));}catch(_0x576f2b){console[_0x315975(0x138)](_0x315975(0x142),_0x576f2b);}}((async()=>{config=await chargerConfig();})());export function creerAntiDemoteBaileys(_0x48e363,_0x3407ea,_0x321e21,_0xee55a2){return async()=>{const _0x1cc9df=a2_0x526f;try{if(!_0x3407ea[_0x1cc9df(0x14e)]('@g.us'))return;if(!config[_0x1cc9df(0x12a)][_0x3407ea])return;if(!await isAdmin(_0x48e363,_0x3407ea,_0xee55a2))return;const _0x2ff6f2=await _0x48e363[_0x1cc9df(0x14c)](_0x3407ea),_0x40963c=_0x2ff6f2['participants']['find'](_0x5be35d=>_0x5be35d['id']===_0x321e21);if(!_0x40963c||_0x40963c[_0x1cc9df(0x129)]==='admin'||_0x40963c[_0x1cc9df(0x129)]==='superadmin')return;await Promise[_0x1cc9df(0x143)]([_0x48e363[_0x1cc9df(0x128)](_0x3407ea,[_0x321e21],_0x1cc9df(0x132))[_0x1cc9df(0x14a)](console[_0x1cc9df(0x138)]),_0x48e363[_0x1cc9df(0x128)](_0x3407ea,[_0xee55a2],_0x1cc9df(0x140))[_0x1cc9df(0x14a)](console[_0x1cc9df(0x138)])]);const _0x490127=_0xee55a2[_0x1cc9df(0x13e)]('@')[0x0],_0x301975=_0x321e21[_0x1cc9df(0x13e)]('@')[0x0];await send_text_message(_0x48e363,null,'>\x20âš ï¸\x20Protection\x20AntiDemote\x20activÃ©e\x0a'+('â–¸\x20@'+_0x301975+_0x1cc9df(0x155))+(_0x1cc9df(0x148)+_0x490127+_0x1cc9df(0x150))+'â–¸\x20Les\x20rÃ©trogradations\x20non\x20autorisÃ©es\x20sont\x20interdites',_0x3407ea,[_0xee55a2,_0x321e21],![],!![],![]);}catch(_0x477870){console[_0x1cc9df(0x138)](_0x1cc9df(0x139),_0x477870);}};}export async function ajouterGroupeAntidemote(_0x523c4d,_0x4ae3e1,_0x571895,_0x591a1e){const _0x4f6438=a2_0x3d3f0b;if(!_0x591a1e)return await send_reaction_message(_0x523c4d,_0x4ae3e1,_0x571895,'âŒ'),await send_text_message(_0x523c4d,_0x4ae3e1,_0x4f6438(0x12c),_0x571895),![];const _0xa76f13=_0x4ae3e1[_0x4f6438(0x137)][_0x4f6438(0x151)];if(!await isAdmin(_0x523c4d,_0x571895,_0xa76f13,!![]))return await send_reaction_message(_0x523c4d,_0x4ae3e1,_0x571895,'âŒ'),await send_text_message(_0x523c4d,_0x4ae3e1,'>\x20âš ï¸\x20vous\x20devez\x20Ãªtre\x20le\x20propriÃ©taire\x20du\x20groupe',_0x571895),![];return!config['groupesActives'][_0x571895]?(config['groupesActives'][_0x571895]=!![],await sauvegarderConfig(),await send_reaction_message(_0x523c4d,_0x4ae3e1,_0x571895,'âœ…'),await send_text_message(_0x523c4d,_0x4ae3e1,_0x4f6438(0x14d)+'â–¸\x20Protection\x20contre\x20les\x20rÃ©trogradations\x0a'+_0x4f6438(0x12f)+_0x4f6438(0x144),_0x571895),!![]):(await send_reaction_message(_0x523c4d,_0x4ae3e1,_0x571895,'â„¹ï¸'),await send_text_message(_0x523c4d,_0x4ae3e1,_0x4f6438(0x12e),_0x571895),![]);}export async function supprimerGroupeAntidemote(_0x56ee8d,_0x5e1f4,_0x2d698a,_0x1f7aa9){const _0x5ba988=a2_0x3d3f0b;if(!_0x1f7aa9)return await send_reaction_message(_0x56ee8d,_0x5e1f4,_0x2d698a,'âŒ'),await send_text_message(_0x56ee8d,_0x5e1f4,_0x5ba988(0x12c),_0x2d698a),![];const _0x463403=_0x5e1f4[_0x5ba988(0x137)]['participant'];if(!await isAdmin(_0x56ee8d,_0x2d698a,_0x463403))return await send_reaction_message(_0x56ee8d,_0x5e1f4,_0x2d698a,'âŒ'),await send_text_message(_0x56ee8d,_0x5e1f4,_0x5ba988(0x12d),_0x2d698a),![];if(config[_0x5ba988(0x12a)][_0x2d698a])return delete config['groupesActives'][_0x2d698a],await sauvegarderConfig(),await send_reaction_message(_0x56ee8d,_0x5e1f4,_0x2d698a,'âœ…'),await send_text_message(_0x56ee8d,_0x5e1f4,'>\x20ðŸ›¡ï¸\x20AntiDemote\x20dÃ©sactivÃ©',_0x2d698a),!![];return await send_reaction_message(_0x56ee8d,_0x5e1f4,_0x2d698a,'â„¹ï¸'),await send_text_message(_0x56ee8d,_0x5e1f4,_0x5ba988(0x147),_0x2d698a),![];}export async function listerGroupesAntidemote(){const _0x5c13f6=a2_0x3d3f0b;return Object[_0x5c13f6(0x13f)](config['groupesActives'])[_0x5c13f6(0x12b)](_0x534f24=>'â–¸\x20'+_0x534f24['split']('@')[0x0])['join']('\x0a')||_0x5c13f6(0x146);}function a2_0x526f(_0x38ac3c,_0x410401){const _0x5ac896=a2_0x5ac8();return a2_0x526f=function(_0x526f0f,_0x3a7b04){_0x526f0f=_0x526f0f-0x128;let _0xffd03c=_0x5ac896[_0x526f0f];return _0xffd03c;},a2_0x526f(_0x38ac3c,_0x410401);}export function getConfigAntidemote(){return config;}